<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>AutoJS | wenke</title><meta name="keywords" content="autojs"><meta name="author" content="wenke"><meta name="copyright" content="wenke"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="介绍官方文档 史上最全的autojs代码仓库 Appium 和 Airtest 编写的自动化脚本都依赖于 PC 端运行，没有办法直接运行在移动端；无障碍服务需要单独创建一个 Android 项目，没有完整的使用文档，使用起来有一定的门槛 AutoJS 它通过编写 JavaScript 脚本，结合系统的「 无障碍服务 」对 App 进行自动化操作脚本文件体积小，可以打包成 APK 直接安装拥有丰富的">
<meta property="og:type" content="article">
<meta property="og:title" content="AutoJS">
<meta property="og:url" content="https://wenkexia.github.io/2022/010827358.html">
<meta property="og:site_name" content="wenke">
<meta property="og:description" content="介绍官方文档 史上最全的autojs代码仓库 Appium 和 Airtest 编写的自动化脚本都依赖于 PC 端运行，没有办法直接运行在移动端；无障碍服务需要单独创建一个 Android 项目，没有完整的使用文档，使用起来有一定的门槛 AutoJS 它通过编写 JavaScript 脚本，结合系统的「 无障碍服务 」对 App 进行自动化操作脚本文件体积小，可以打包成 APK 直接安装拥有丰富的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/wenkex/blogimage/raw/master/infinity-3610308.jpg">
<meta property="article:published_time" content="2022-01-08T09:17:39.000Z">
<meta property="article:modified_time" content="2022-01-08T09:17:39.000Z">
<meta property="article:author" content="wenke">
<meta property="article:tag" content="autojs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/wenkex/blogimage/raw/master/infinity-3610308.jpg"><link rel="shortcut icon" href="https://gitee.com/wenkex/blogimage/raw/master/favicon.png"><link rel="canonical" href="https://wenkexia.github.io/2022/010827358"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d103aef22d2746c3d56e2dae461c4699";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="/wenke" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"距离上次更新已经过了","messageNext":"天， 文章内容可能已过期，请留意"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":1000,"languages":{"author":"作者: wenke","link":"链接: ","source":"来源: wenke","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'AutoJS',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-08 17:17:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="wenke" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/wenkex/blogimage/raw/master/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">33</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/box/"><i class="fa-fw fas fa-tags"></i><span> 聚合</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-heart"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fas fa-list"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitee.com/wenkex/blogimage/raw/master/infinity-3610308.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">wenke</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/box/"><i class="fa-fw fas fa-tags"></i><span> 聚合</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-heart"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fas fa-list"></i><span> 留言板</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">AutoJS</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-08T09:17:39.000Z" title="发表于 2022-01-08 17:17:39">2022-01-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-08T09:17:39.000Z" title="更新于 2022-01-08 17:17:39">2022-01-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96/">自动化</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>55分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="AutoJS"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p><a target="_blank" rel="noopener" href="https://pro.autojs.org/docs/#/zh-cn/?id=%e7%bb%bc%e8%bf%b0">官方文档</a></p>
<p><a target="_blank" rel="noopener" href="https://www.yuque.com/yashujs/bfug6u/ogik4f">史上最全的autojs代码仓库</a></p>
<p>Appium 和 Airtest 编写的自动化脚本都依赖于 PC 端运行，没有办法直接运行在移动端；无障碍服务需要单独创建一个 Android 项目，没有完整的使用文档，使用起来有一定的门槛</p>
<p>AutoJS 它通过编写 JavaScript 脚本，结合系统的「 无障碍服务 」对 App 进行自动化操作<br>脚本文件体积小，可以打包成 APK 直接安装<br>拥有丰富的 UI 组件用于构建 GUI 界面<br>非 Root 设备也能完成自动化操作，可以摆脱 PC 直接运行<br>提供多种元素定位方式，可以适配各种机型<br>官方文档非常详细，学习成本低</p>
<p>Auto.JS作为一款基于JavaScript语言的一款脚本，基本语法和结构可通过学习JavaScript来了解。要知道，安卓的app界面就是由一堆控件组成的，这些父子控件相互嵌套，组成了我们熟悉的app界面，因此，你要执行自动化操作，那么最常用的就是先精确的找到这个控件(唯一性)，再来说下一步对其进行操作，而我个人认为Auto.JS之所以方便好用，最大的一点就是查找你想要操作的控件(包括但不限于点击、设置文本等)时特别方便明了，一眼就能看懂并能迅速定位。</p>
<p>比如，在Auto.JS悬浮窗点击[探测]按钮，选择[布局范围分析]之后Auto.JS会自动分析当前范围界面的控件组成，在分析探测完成后(图1.2)，可以点击[查看控件信息]来查看想要操作的控件的各种属性，控件最基本也最常见的属性有：</p>
<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><h2 id="vscode插件"><a href="#vscode插件" class="headerlink" title="vscode插件"></a>vscode插件</h2><p>Auto.js-VSCodeExt</p>
<p>Auto.js-VSCodeExt-Fixed<br>对插件 Auto.js-VSCodeExt 进行了部分优化</p>
<p>Autojs Clipboard<br>同步手机剪贴板到电脑剪贴板</p>
<p>然后，使用 VS Code 快捷键「 Ctrl/Command + Shift + P 」，选择「 Auto.js:Start Server 」开启 AutoJS 服务</p>
<p>在同一wifi下无法连接，手机开热点给电脑，即可连接</p>
<h2 id="scrcpy投屏"><a href="#scrcpy投屏" class="headerlink" title="scrcpy投屏"></a>scrcpy投屏</h2><p><a target="_blank" rel="noopener" href="https://github.com/Genymobile/scrcpy">Github地址</a></p>
<p>手机数据线连接电脑后，开启usb调试，自动连接</p>
<p>鼠标右键是返回</p>
<p>要想卸载scrcpy,先在目录下进入cmd,输入adb kill-server,再删除整个scrcpy文件即可</p>
<p>adb功能异常，重启adb<br>（1）把adb服务杀死：adb kill-server<br>（2）重启adb服务：adb reconnect</p>
<h2 id="结合webditor"><a href="#结合webditor" class="headerlink" title="结合webditor"></a>结合webditor</h2><p>autojs本身就有布局分析，但不一定所有手机都能用，使用weditor进行布局分析</p>
<p>weditor 地址</p>
<p><a target="_blank" rel="noopener" href="https://github.com/openatx/weditor">https://github.com/openatx/weditor</a></p>
<p>先把weditor安装好并运行起来。然后：</p>
<p>.设备通过USB线连接电脑。<br>在cmd命令行中输入adb tcpip 5555<br>拔掉数据线<br>在cmd命令行中输入adb connect 192.168.1.5(设备在局域网中的ip)<br>在weditor 网页中输入手机的ip并且点击Connect连接</p>
<p>连接成功后，点击“Dump Hierarchy” 获取最新的界面。这里以微信为例，然后我们会看到布局分析，点击我们需要操作的控件，可以获取到resourceId、className、text等信息，然后我们运用autojs进行操作。 </p>
<h1 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h1><h2 id="强制分配"><a href="#强制分配" class="headerlink" title="强制分配"></a>强制分配</h2><p>vivo手机有些应用无法分屏。<br>【开发者模式】并点击进入；下拉页面，将【强制将活动设为可调整大小】开关打开；重启手机，重启后应用就支持强制分屏了。设置完后。先进入不能分屏的界面，然后上拉进入任务界面，点击另一个想要分屏应用的分屏按钮</p>
<p>快捷打开无障碍，长按两个音量键三秒</p>
<p>如何打开控制台<br>依次点击 帮助—–切换开发者工具——console</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>查找控件存不存在使用exists ()。一般情况下Autojs生成的代码是：if (text(“刷视频赚”).exists()) {}，不建议这样写，有很多时候找不到或者是有多个文字一样的内容故：let earnVideo= className(“android.widget.TextView”).text(“刷视频赚”).findOnce();这样写准确率更高。</p>
<p>为什么有时候launchApp(‘应用名’);会失效<br>第一,这是因为你手机存在同名软件.找不到你想要的app，要使用launch(‘应用包名’)。第二,是因为你没有给软件(后台弹出界面)权限</p>
<p>auto.waitFor();语句增加是非常必要的这个在你没有无障碍时候会提示你无障碍模式的开启。并且开启之后,会接着继续运行.</p>
<p>AutoJs创建项目后打包成Apk后Apk无<br>法运行。 AutoJs单文件打包成Apk说是风险Apk。<br>这个问题现在已经比较好解决了.就是使用AUTO.JS Pro版本即可.</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/nUgyBkn9kZYamnRuSkzMlg">https://mp.weixin.qq.com/s/nUgyBkn9kZYamnRuSkzMlg</a></p>
<h1 id="autojs提取软件自带例子"><a href="#autojs提取软件自带例子" class="headerlink" title="autojs提取软件自带例子"></a>autojs提取软件自带例子</h1><p>通过mt管理器点击autojspro的安装包，然后点击查看，依次打开assets/sample/中文，这就是例子文件。<br>然后长按文件夹解压到任意目录</p>
<p>如果没有mt管理器，可以直接将autojspro.apk的后缀改成.zip,当成压缩包来提取文件。</p>
<h1 id="推送信息到微信"><a href="#推送信息到微信" class="headerlink" title="推送信息到微信"></a>推送信息到微信</h1><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过息知推送信息到微信</span></span><br><span class="line"><span class="comment">// https://xz.qqoq.net/#/index</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送消息支持get,post两种方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// {key}填的是你在息知控制台的单点推送中获取到的</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">"https://xizhi.qqoq.net/{key}.send?title=标题&amp;content=测试"</span>;</span><br><span class="line"><span class="keyword">let</span> r = http.get(url);</span><br><span class="line">log(r.body.string());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// let url = "https://xizhi.qqoq.net/{key}.send";</span></span><br><span class="line"><span class="comment">// let r = http.postJson(url, {</span></span><br><span class="line"><span class="comment">//   title: "this is title",</span></span><br><span class="line"><span class="comment">//   content: "this is content",</span></span><br><span class="line"><span class="comment">// });</span></span><br><span class="line"><span class="comment">// log(r.body.string());</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<h1 id="基于控件的操作"><a href="#基于控件的操作" class="headerlink" title="基于控件的操作"></a>基于控件的操作</h1><ul>
<li>牢记最基础也是最核心的操作也就是如何确定要操作的控件(唯一性)，总结有以下三个方法基本可满足日常：<ul>
<li>depth-desc-id-classname等控件的常规的唯一属性</li>
<li>findone.parent().child(xx)等控件的父子依存顺序关系</li>
<li>最后实在无法确定可用坐标法bounds，click(x,y)操作控件</li>
</ul>
</li>
</ul>
<p>UiSelector.textContains(str)<br>str {string} 要包含的字符串<br>为当前选择器附加控件”text需要包含字符串str”的筛选条件。</p>
<h2 id="UiSelector（选择器）"><a href="#UiSelector（选择器）" class="headerlink" title="UiSelector（选择器）"></a>UiSelector（选择器）</h2><p>用于通过各种条件选取屏幕上的控件，再对这些控件进行点击、长按等动作</p>
<p>通常用一个唯一的属性来定位一个控件</p>
<h2 id="UiObject"><a href="#UiObject" class="headerlink" title="UiObject"></a>UiObject</h2><p>UiObject表示一个控件，可以通过这个对象获取到控件的属性，也可以对控件进行点击、长按等操作。</p>
<p>获取一个UiObject通常通过选择器的findOne(), findOnce()等函数，也可以通过UiCollection来获取，或者通过UiObject.child(), UiObject.parent()等函数来获取一个控件的子控件或父控件。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text("微信").findOne()  //返回的时一个控件对象，想要操作这个控件，其属性必须为true</span><br></pre></td></tr></tbody></table></figure>

<h3 id="bounds"><a href="#bounds" class="headerlink" title="bounds()"></a>bounds()</h3><p>返回 Rect<br>返回控件在屏幕上的范围，其值是一个Rect对象。</p>
<h2 id="Rect"><a href="#Rect" class="headerlink" title="Rect"></a>Rect</h2><p>UiObject.bounds(), UiObject.boundsInParent()返回的对象。表示一个长方形(范围)。</p>
<h3 id="Rect-centerX"><a href="#Rect-centerX" class="headerlink" title="Rect.centerX()"></a>Rect.centerX()</h3><p>返回 {number}<br>长方形中点x坐标。</p>
<h3 id="Rect-centerY"><a href="#Rect-centerY" class="headerlink" title="Rect.centerY()"></a>Rect.centerY()</h3><p>返回 {number}<br>长方形中点y坐标。</p>
<h2 id="控件属性"><a href="#控件属性" class="headerlink" title="控件属性"></a>控件属性</h2><p>className 类名。类名表示一个控件的类型，例如文本控件为”android.widget.TextView”, 图片控件为”android.widget.ImageView”等。</p>
<p>packageName 包名。包名表示控件所在的应用包名，例如QQ界面的控件的包名为”com.tencent.mobileqq”。</p>
<p>bounds 控件在屏幕上的范围。<br>drawingOrder 控件在父控件的绘制顺序。<br>indexInParent 控件在父控件的位置。<br>clickable 控件是否可点击。<br>longClickable 控件是否可长按。<br>checkable 控件是否可勾选。<br>checked 控件是否可已勾选。<br>scrollable 控件是否可滑动。<br>selected 控件是否已选择。<br>editable 控件是否可编辑。<br>visibleToUser 控件是否可见。<br>enabled 控件是否已启用。<br>depth 控件的布局深度。</p>
<h2 id="对选取的控件进行操作"><a href="#对选取的控件进行操作" class="headerlink" title="对选取的控件进行操作"></a>对选取的控件进行操作</h2><p>click(text[, i])<br>text {string} 要点击的文本<br>i {number} 如果相同的文本在屏幕中出现多次，则i表示要点击第几个文本, i从0开始计算</p>
<p>click() 点击。点击一个控件，前提是这个控件的clickable属性为true<br>longClick() 长按。长按一个控件，前提是这个控件的longClickable属性为true<br>setText() 设置文本，用于编辑框控件设置文本。<br>scrollForward();<br>scrollBackward() 滑动。滑动一个控件(列表等), 前提是这个控件的scrollable属性为true<br>exits() 判断控件是否存在<br>waitFor() 等待控件出现</p>
<p>//确保无障碍服务已启用。<br>auto.waitFor()  //直接提示你无障碍模式的开启。</p>
<h2 id="click-text-i"><a href="#click-text-i" class="headerlink" title="click(text[, i])"></a>click(text[, i])</h2><p>text {string} 要点击的文本<br>i {number} 如果相同的文本在屏幕中出现多次，则i表示要点击第几个文本, i从0开始计算<br><code>while(!click("扫一扫"));</code></p>
<h2 id="基于控件属性确定控件"><a href="#基于控件属性确定控件" class="headerlink" title="基于控件属性确定控件"></a>基于控件属性确定控件</h2><p>通过查看这些属性，我们不难发现有其中一项属性desc(“更多选项”)，很可能是不和其他控件相同的，也就是此控件属性具有唯一性，能唯一的确定此控件，这个属性就是我们要找的。因此，我们想要对其进行操作只需要：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(desc(<span class="string">"更多选项"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    sleep(<span class="number">1000</span>);</span><br><span class="line">    desc(<span class="string">"更多选项"</span>).findonce().click();    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上述代码执行后，在该界面时，desc(“更多选项”)首先会被查找(findonce)，查找后执行点击(click)，从而【⋮】按钮也就被点击了。总结下无非就是我们找到了此按钮的唯一控件属性desc(“更多选项”)从而再对其操作，仅此而已。</p>
<p>另外，加上“.exist()”是为了增加程序鲁棒性，万一控件不存在或者没找到，则程序不会执行，否则对不存在(或没找到)的控件操作会抛出异常。基于此，往往要判定控件存在与否后再进行操作，而“.exist()”返回的是一个布尔值，方便后续进行判断和操作。另外一个常用的操作就是加上“while(!)”死循环等待控件出现，如：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当"更多选项"不存在等价于此按钮还没出现</span></span><br><span class="line"><span class="keyword">while</span>(!desc(<span class="string">"更多选项"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//继续循环等待，直到按钮出现</span></span><br><span class="line">    sleep(<span class="number">1000</span>);</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">//执行到这里说明"更多选项"存在了，对该按钮执行点击操作</span></span><br><span class="line">desc(<span class="string">"更多选项"</span>).findonce().click();</span><br><span class="line"><span class="keyword">return</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>当分析了很多控件后不难发现，控件的文本信息往往是以desc或text属性来呈现的，比如一个该按钮名为”更多选项”，其控件的desc属性或text属性就是其按钮名字，确定其名字也就确定了此控件，针对此按钮具体来说，就是其desc属性是”更多选项”。（此处要说的意思就是要具体问题具体分析，文本信息不是desc就是text，如果是desc属性就操作desc，是text属性就操作text）但是，往往就有时候我们只知道包含的部分desc或text，这时候可用这四个函数来确定：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//descContains即desc包含部分信息即可匹配</span></span><br><span class="line"><span class="keyword">if</span>(descContains(<span class="string">"选项"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//需要执行的操作</span></span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">//descStartsWith即desc以此信息开头即可匹配</span></span><br><span class="line"><span class="keyword">if</span>(descStartsWith(<span class="string">"更多"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//需要执行的操作</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>同理，text也有对应的两个函数,比如一个按钮text属性为(“我的学习积分”)/</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//textContains即text包含部分信息即可匹配</span></span><br><span class="line"><span class="keyword">if</span>(textContains(<span class="string">"学习积分"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//需要执行的操作</span></span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">//textStartsWith即text以此信息开头即可匹配</span></span><br><span class="line"><span class="keyword">if</span>(textStartsWith(<span class="string">"我的"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//需要执行的操作</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>当然，更多情况是desc和text属性并不能唯一确定要操作的控件，我们往往用其他属性(常用的有className、id、depth等)一起叠加使用来尽可能的使之唯一，比如：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//往往是诸多控件属性一起才可唯一确定待操作的控件</span></span><br><span class="line"><span class="keyword">var</span> myObject = className(“XXX”).depth(xx).id(“XXX”).text(“XXX”).findone();</span><br><span class="line">myObject.click();</span><br></pre></td></tr></tbody></table></figure>
<p> 需要注意的是：在不同的Android系统上，同一版本的app的控件属性可能会变化。同样，app版本更新后，控件属性、布局也可能发生变化，所以，若要对不同版本不同系统具有兼容性，应尽可能选择不变化的控件属性。</p>
<h2 id="基于控件父子关系确定控件"><a href="#基于控件父子关系确定控件" class="headerlink" title="基于控件父子关系确定控件"></a>基于控件父子关系确定控件</h2><p>有时候，控件属性是变化的、随机的，这时候我们便不能通过控件的本身固有属性如id，className，depth等来唯一的确定出需要的控件，这时候我们可以通过控件之间的上下级关系(也叫父子关系)来确定出需要操作的控件。</p>
<p>首先需要了解的是控件间的依存关系，还是以之前的app界面为例，我们这次来分析右下角的的“+”号按钮，和之前一样利用Auto.JS分析控件布局，我们点击右下角的“+”号按钮，点击[在布局层次中查看]，便可以查看当前控件在整个布局层次中的上下级关系(父子关系)，如图1.6所示，不难发现，从上到下，左侧五颜六色的竖棍丨就代表着其层级关系，竖棍丨越多也就越处于底层，该“+”号按钮控件名为“ImageButton”，对应着拥有8根竖棍丨，所以其是在第八级。</p>
<p>另外，和“ImageButton”平级的控件是图1.6所示的8.2—“ImageView”控件，“ImageButton”的父控件也就是它的上级控件是图1.6所示的7.3—“android.view.View”控件，所以我们可以建立以下关系：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8.1</span>中“ImageButton”的parent() = <span class="number">7.3</span>中“android.view.View”</span><br><span class="line"></span><br><span class="line"><span class="number">7.3</span>中“android.view.View”的child(<span class="number">0</span>) = <span class="number">8.1</span>中“ImageButton”</span><br><span class="line"></span><br><span class="line"><span class="number">7.3</span>中“android.view.View”的child(<span class="number">1</span>) = <span class="number">8.2</span>中“ImageView”</span><br><span class="line"></span><br><span class="line"><span class="number">7.3</span>中“android.view.View”的parent() = <span class="number">6</span>中“android.view.View”</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>中“android.view.View”的child(<span class="number">0</span>)  = <span class="number">7.1</span>中“LinearLayout”</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>中“android.view.View”的child(<span class="number">1</span>)  = <span class="number">7.2</span>中“android.view.View”</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>中“android.view.View”的child(<span class="number">2</span>)  = <span class="number">7.3</span>中“android.view.View”</span><br></pre></td></tr></tbody></table></figure>

<p> 建立了以上隶属关系，我们就可以通过唯一确定任意其中一个不变的固定控件，便可通过控件间的隶属关系来确定我们想要的控件，从而规避了我们要找的控件属性动态变化这一情况。</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/xi_fan/img/raw/master/image-20211112113703418.png" alt="图1.5 点击[在布局层次中查看]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/xi_fan/img/raw/master/image-20211112113725776.png" alt="图1.6 控件的布局层次分析1"></p>
<p> 在这里，我们假定以之前右上角的【⋮】按钮为固定控件(因为”更多选项”这几个字基本不会变化)，通过【⋮】按钮来和控件间的父子关系来确定出右下角的“+”号按钮。</p>
<p>首先分析右上角的【⋮】按钮的层级关系，如图1.7所示，【⋮】按钮位于第10级，它的父级parent是图1.7所示的9.3—“android.support.v7.widget.LinearLayoutCompat”，9.3的父级是8—“android.view.View”,以此类推，发现我们想要操作的控件也就是“ImageButton”控件(8.1)和右上角的【⋮】按钮即“ImageView”控件(10)关系是：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">“ImageView”控件(<span class="number">10</span>)是从<span class="number">7.1</span>—“LinearLayout”继承下来的；</span><br><span class="line"></span><br><span class="line">“ImageButton”控件(<span class="number">8.1</span>)是从<span class="number">7.3</span>—“android.view.View”继承下来的；</span><br><span class="line"></span><br><span class="line">   而<span class="number">7.1</span>和<span class="number">7.3</span>是平级关系，拥有共同的父级<span class="number">6</span>—“android.view.View”</span><br></pre></td></tr></tbody></table></figure>


<p>图1.7 控件的布局层次分析2</p>
<p>明白了这一点，我们便可通过【⋮】按钮(10)来确定右下角的“+”号按钮(8.1)，如下所示：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先，通过desc属性确定出【⋮】按钮(图1.7所示的10)</span></span><br><span class="line"><span class="comment">//属性.findone()首先找到一个控件，再在此基础上加.parent等</span></span><br><span class="line"><span class="keyword">var</span> moreButton = desc(<span class="string">"更多选项"</span>).findone();   </span><br><span class="line"></span><br><span class="line"><span class="comment">//其次，找到【⋮】按钮和右下角“+”号按钮共同的父级parent</span></span><br><span class="line"><span class="comment">//在这里是一层层往上找是为了方便理解，实际操作可一步到位</span></span><br><span class="line"><span class="keyword">var</span> 9_3Supportv7 = moreButton.parent();                             <span class="comment">//找到图1.7所示的9.3控件</span></span><br><span class="line"><span class="keyword">var</span> 8viewView = moreButton.parent().parent();                       <span class="comment">//找到图1.7所示的8控件</span></span><br><span class="line"><span class="keyword">var</span> 7_1LinearLayout = moreButton.parent().parent().parent();        <span class="comment">//找到图1.7所示的7.1控件</span></span><br><span class="line"><span class="keyword">var</span> 6viewView = moreButton.parent().parent().parent().parent();     <span class="comment">//找到图1.7所示的6控件</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//最后，通过共同的父级parent找到右下角“+”号按钮</span></span><br><span class="line"><span class="comment">//在这里是一层层往下找是为了方便理解，实际操作可一步到位</span></span><br><span class="line"><span class="keyword">var</span> 7_3viewView = 6viewView.child(<span class="number">2</span>);                               <span class="comment">//找到图1.7所示的7.3控件</span></span><br><span class="line"><span class="keyword">var</span> plusButton = 6viewView.child(<span class="number">2</span>).child(<span class="number">0</span>);                       <span class="comment">//找到图1.7所示的8.1控件（也就是+号按钮）</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//所以，如果一步到位，总结如下：</span></span><br><span class="line"><span class="keyword">var</span> plusButton = moreButton.parent().parent().parent().parent().child(<span class="number">2</span>).child(<span class="number">0</span>);</span><br><span class="line"><span class="comment">//再对+号按钮进行点击</span></span><br><span class="line">plusButton.click();</span><br></pre></td></tr></tbody></table></figure>
<p> 此处例子里的的两个控件【⋮】按钮(10)和右下角的“+”号按钮(8.1)之间相差了很多层，因此显着有些复杂，在实际情况中，我们往往不需要跨越这么多的层级来确定控件，一般情况下不会那么复杂。实际上，父子关系嵌套两三层往往即可确定出另一控件。最后，在这里需要注意的是，确定控件时要加上“.findone()”，此方法调用后会返回所有符合条件的控件集合。因此，首先要找到一个不容易变化的或容易找的控件“.findone()”后再在此基础上进行“.parent()”“.child(index)”操作找到另一控件。</p>
<h2 id="基于坐标来确定控件"><a href="#基于坐标来确定控件" class="headerlink" title="基于坐标来确定控件"></a>基于坐标来确定控件</h2><p>如果一个控件本身无法通过click()点击，那么我们可以利用bounds()函数获取其坐标，再利用坐标点击。总体来说，基于坐标来确定要操作的控件比较简单，核心是确定要操作的控件的坐标即可。Auto.JS里可以直接获取控件的坐标，每一个控件包含其“.bounds()”属性，bounds()其实表示的是一个范围矩阵。此处还是以右下角的“+”号按钮为例，查看控件属性信息，包含“.bounds()”属性如下图：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/xi_fan/img/raw/master/image-20211112113837943.png" alt="图1.8 bounds()属性"></p>
<p>从上图看，bounds()属性是四个坐标值，其分别为(left, top, right, buttom)，各值含义如图1.9所示：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">left：控件左边缘与屏幕左边的距离</span><br><span class="line"></span><br><span class="line">top：控件上边缘与屏幕上边的距离</span><br><span class="line"></span><br><span class="line">right：控件右边缘与屏幕左边的距离</span><br><span class="line"></span><br><span class="line">buttom ： 控件下边缘与屏幕上边的距离</span><br></pre></td></tr></tbody></table></figure>



<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/xi_fan/img/raw/master/image-20211112113902111.png" alt="图1.9 bounds()属性示意图"></p>
<p>因此，在获得控件的坐标bounds()属性后，就可以对控件执行基于坐标的操作，常见的操作有：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">bounds().left：长方形左边界的x坐标</span><br><span class="line"></span><br><span class="line">bounds().right：长方形右边界的x坐标</span><br><span class="line"></span><br><span class="line">bounds().top：长方形上边界的y坐标</span><br><span class="line"></span><br><span class="line">bounds().bottom：长方形下边界的y坐标</span><br><span class="line"></span><br><span class="line">bounds().centerX()：长方形中点x坐标</span><br><span class="line"></span><br><span class="line">bounds().centerY()：长方形中点y坐标</span><br><span class="line"></span><br><span class="line">bounds().width()：长方形宽度也就是控件宽度</span><br><span class="line"></span><br><span class="line">bounds().height()：长方形高度也就是控件高度</span><br><span class="line"></span><br><span class="line">click(x,y)：坐标(x,y)处执行点击操作  <span class="comment">//注意:安卓7以下点击需要root权限且函数为Tap(x,y)</span></span><br><span class="line"></span><br><span class="line">bounds(left, right, top, bottom).clickable().click()：点击该长方形区域</span><br></pre></td></tr></tbody></table></figure>

<p>另外，因为不同设备的分辨率大小是不同的，那么我们click(x,y)在不同分辨率下就会出错，Auto.JS针对这一问题内置了一个函数”setScreenMetrics(width, height)”，具体用法如下：</p>
<pre><code>//设置在特定屏幕分辨率下要点击的坐标值(x,y)
setScreenMetrics(1080, 1920);            //声明是基于分辨率1080，1920的点击
click(800, 200);                         //分辨率1080，1920下点击(800，200)
longClick(300, 500);                     //分辨率1080，1920下长点击(300，500)
</code></pre>
<p>   当我们使用540，960分辨率的设备（x，y各缩小了一半）后执行上述代码时，他会自动计算缩放的比例，从而实际点击的是坐标(400，100)和（150，250）这两个坐标值。</p>
<p>当然，基于坐标的操作不仅有click()操作，常用的还有swipe()滑动操作，gesture()手势滑动操作等，具体可查看官方文档，在这里仅对swipe()，gesture()这两个函数进行介绍。</p>
<p>swipe(x1,y1,x2,y2,time)：(x1,y1)代表起始点坐标，(x2,y2)代表终点坐标，time代表滑动所需要的时间</p>
<p>//注意：安卓7以下的滑动需要root权限，且函数名变为Swipe(x1,y1,x2,y2,time)</p>
<p>gesture(time,[x1,y1],[x2,y2],[x3,y3]…)：time同，(x1,y1)是起始点坐标，(x2,y2)是途径点坐标，最后一个坐标是终点</p>
<p>下面以一个某APP注册时的滑动验证为例(为防止被人恶意利用，在此打上码。再次声明，此处做仅举例用，所有代码仅供学习交流！)，如图2.0所示，当我们输入手机号点击注册时，此时需要将滑块拖动到指定位置处才可以发送验证码从而进行下一步的注册。在这里，我们将想要拖动的滑块称为控件①，想要拖到的目标处称为控件②。那么，如果想要实现一个自动化拖动首先就要确定的是控件①和控件②的坐标，又因为其坐标每次都是随机的，所以只需要根据两个控件的特有属性唯一确定出控件①和控件②，再每次获取其坐标即可。</p>
<p>通过对两个控件的属性分析，如图2.1所示，我们不难发现，控件①和控件②的indexInParent()不同，因此可通过此分别唯一的定位出两个控件，确定控件后，我们再调用swipe()或gesture()函数来执行滑动，从而实现自动滑动的操作。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/xi_fan/img/raw/master/image-20211112113931507.png" alt="图2.0 注册时需要滑动验证"></p>
<p>图2.1 两个控件属性对比</p>
<p>具体实现代码如下：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先判断是否进入了"滑动验证"界面</span></span><br><span class="line"><span class="keyword">if</span>(text(<span class="string">"滑动验证"</span>).exists())</span><br><span class="line">{</span><br><span class="line">    sleep(<span class="number">2000</span>);</span><br><span class="line">    <span class="comment">//判断控件1是否存在</span></span><br><span class="line">    <span class="keyword">if</span>(className(<span class="string">"android.widget.Button"</span>).depth(<span class="number">8</span>).indexInParent(<span class="number">1</span>).exists())</span><br><span class="line">    {   </span><br><span class="line">        <span class="comment">//控件1存在，获取其坐标bounds()属性</span></span><br><span class="line">        <span class="keyword">var</span> Button1 = className(<span class="string">"android.widget.Button"</span>).depth(<span class="number">8</span>).indexInParent(<span class="number">1</span>).findOne().bounds();</span><br><span class="line">        sleep(<span class="number">500</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"Button1的坐标为:"</span>+ Button1);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//判断控件2是否存在</span></span><br><span class="line">    <span class="keyword">if</span>(className(<span class="string">"android.widget.Button"</span>).depth(<span class="number">8</span>).indexInParent(<span class="number">3</span>).exists())</span><br><span class="line">    {</span><br><span class="line">	<span class="keyword">var</span> Button2 = className(<span class="string">"android.widget.Button"</span>).depth(<span class="number">8</span>).indexInParent(<span class="number">3</span>).findOne().bounds();</span><br><span class="line">	sleep(<span class="number">500</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"Button2的坐标为:"</span>+ Button2);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//两个控件的坐标都获取到后，执行swipe或gesture操作</span></span><br><span class="line">    sleep(<span class="number">2000</span>);</span><br><span class="line">    <span class="comment">//swipe(x1,y1,x2,y2,[time])</span></span><br><span class="line">    swipe(Button1.left, Button1.top, Button2.left, Button2.top, [random(<span class="number">500</span>,<span class="number">1200</span>)]);</span><br><span class="line">    sleep(<span class="number">2000</span>);</span><br><span class="line">    <span class="comment">//gesture(time,[x1,y1],[x2,y2])</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Swipe完成！"</span>);</span><br><span class="line">    gesture(random(<span class="number">500</span>,<span class="number">1200</span>), [Button1.left, Button1.top], [Button2.left, Button2.top]);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"gesture完成！"</span>);</span><br><span class="line">    <span class="comment">//结束</span></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


<h2 id="其他的一些方法和函数"><a href="#其他的一些方法和函数" class="headerlink" title="其他的一些方法和函数"></a>其他的一些方法和函数</h2><p>使用click函数我们可以对坐标进行点击，也可以对控件进行点击，最后也可以对某些特定字符点击，总结如下：</p>
<ul>
<li>根据控件属性唯一确定出控件后，再对控件进行点击click操作</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">desc(<span class="string">"更多选项"</span>).depth(<span class="number">9</span>).findone().click();</span><br><span class="line">text(<span class="string">"注册"</span>).click();</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>根据坐标来实现基于坐标的点击</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setScreenMetrics(<span class="number">1080</span>, <span class="number">1920</span>);        <span class="comment">//声明是基于分辨率1080，1920的点击</span></span><br><span class="line">click(<span class="number">800</span>, <span class="number">200</span>);                     <span class="comment">//分辨率1080，1920下点击(800，200)</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>有时候控件可能是个Image或是不可点击的(clickable=false)，这时我们可以对屏幕进行点击</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">click(<span class="string">"2020-07-15"</span>);                  <span class="comment">//点击"2020-07-15"</span></span><br><span class="line">click(<span class="string">"2020-07-15"</span>,<span class="number">0</span>);                <span class="comment">//点击第一个"2020-07-15"</span></span><br><span class="line">click(<span class="string">"str"</span>,index);                   <span class="comment">//点击第index个字符"str"(因为有时str会出现多次，另外注意下标从0开始)</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>查找函数find/findone/findonce</p>
</blockquote>
<p>之前说过，根据我们设定的一些属性，我们可以对屏幕上的控件进行搜索和查找，并返回符合条件的控件。因此，想要对返回的控件进行下一步操作的前提是必须要“.findone()”，如前面所述，要想从父子关系查找关联控件必须先“.findone().parent()”,再比如要想获取控件的坐标矩阵也必须“.findone().bounds()”。三个搜索函数“.find()” “.findone()” “.findonce()”在使用上是有点差别的，具体如下</p>
<ul>
<li>find()函数会找出所有满足条件的控件并返回一个控件集合,之后可以对控件集合进行操作</li>
</ul>
<p>var findAssemble = textContains(“2020-07-15”).find();     //找到所有包含”2020-07-15”的控件集合findAssemble </p>
<ul>
<li>findone()函数会对屏幕上的控件进行搜索，直到屏幕上出现满足条件的一个控件为止，并返回该控件</li>
</ul>
<p>如果找不到控件，当屏幕内容发生变化时会重新寻找，直至找到<br>注意：如果findone不加限制时间且屏幕上一直没有出现所描述的控件，则该函数会阻塞，直到找到为止</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findoneAssem1 = textContains(<span class="string">"2020-07-15"</span>).findone();     <span class="comment">//找到一个包含"2020-07-15"的控件findoneAssem1</span></span><br><span class="line"><span class="keyword">var</span> findoneAssem2 = textContains(<span class="string">"2020-07-15"</span>).findone(<span class="number">500</span>); <span class="comment">//在500毫秒内找到一个包含"2020-07-15"的控件findoneAssem，若找不到，终止搜索返回null</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>findonce(i)函数会根据当前所确定的筛选条件，对屏幕上的控件进行搜索，并返回第 i + 1 个符合条件的控件</p>
<p>  如果没有找到符合条件的控件，或者符合条件的控件个数 &lt; i, 则返回null</p>
</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findonce1 = textContains(<span class="string">"2020-07-15"</span>).findonce(<span class="number">0</span>);     <span class="comment">//搜索第一个包含"2020-07-15"的控件findonce1</span></span><br><span class="line"><span class="keyword">var</span> findonce2 = textContains(<span class="string">"2020-07-15"</span>).findonce(<span class="number">1</span>);     <span class="comment">//搜索第二个包含"2020-07-15"的控件findonce2</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>上下滑动和翻页</li>
</ul>
<p>Auto.JS上下滑动可以是对整个屏幕的滑动或对某特定控件的滑动，对整个屏幕滑动如下例2.3.1所示</p>
<p>例2.3.1：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//滑动函数swipe(x1,y1,x2,y2,time)</span></span><br><span class="line"><span class="keyword">var</span> h=device.height;               <span class="comment">//屏幕高</span></span><br><span class="line"><span class="keyword">var</span> w=device.width;                <span class="comment">//屏幕宽</span></span><br><span class="line"><span class="keyword">var</span> x=(w/<span class="number">3</span>)*<span class="number">2</span>;                     <span class="comment">//横坐标2分之3处</span></span><br><span class="line"><span class="keyword">var</span> h1=(h/<span class="number">6</span>)*<span class="number">5</span>;                    <span class="comment">//纵坐标6分之5处</span></span><br><span class="line"><span class="keyword">var</span> h2=(h/<span class="number">6</span>);                      <span class="comment">//纵坐标6分之1处</span></span><br><span class="line"> </span><br><span class="line">swipe(x, h1, x, h2, <span class="number">500</span>);          <span class="comment">//向下翻页(从纵坐标6分之5处拖到纵坐标6分之1处)</span></span><br><span class="line">swipe(x, h2, x, h1, <span class="number">500</span>);          <span class="comment">//向上翻页(从纵坐标6分之1处拖到纵坐标6分之5处)</span></span><br></pre></td></tr></tbody></table></figure>
<p>在很多时候，我们经常会见到className名为“.ListView”的控件，实际上其往往是充当装在很多list的集合，以此控件为例，我们可以实现对此控件的上下滑动，如下例2.3.2所示：</p>
<p>例2.3.2：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//scrollForward()函数会对控件执行向前滑动的操作，并返回是否操作成功</span></span><br><span class="line"><span class="comment">//scrollBackward()函数会对控件执行向后滑动的操作，并返回是否操作成功</span></span><br><span class="line"><span class="keyword">var</span> listView = ClassName(“ListView”).id(XXX).findone();</span><br><span class="line">ListView.scrollForward();         <span class="comment">//向前滑动</span></span><br><span class="line">ListView.scrollBackward();        <span class="comment">//向后滑动</span></span><br></pre></td></tr></tbody></table></figure>
<p> 在此只是以“.ListView”的控件进行举例，实际使用过程中，只要控件是可上下滑动的，都可以调用函数“scrollForward()”和“scrollBackward()”来实现对控件的滑动操作。</p>
<ul>
<li>其他通用函数和全局函数</li>
</ul>
<p>因为Auto.JS是基于JavaScript的语言，因此基本的语法结构、很多两者通用的函数等都是可以在JavaScript里面找到，如常见的“.replace()”“.indexof()”“.test()”等这些都在JavaScript网站上有相关的用法说明。可见：JavaScript学习</p>
<p>另外，Auto.JS的一些全局函数如启动程序函数“launch(“XXX”)”，控制台的函数如“console.show()”、“console.log()”等，再如返回函数“back()”，随机函数“random(start,end)”等这些都可在官方的提取文档里找到。可见：Auto.JS官方提取文档</p>
<h2 id="控件找不到的情况"><a href="#控件找不到的情况" class="headerlink" title="控件找不到的情况"></a>控件找不到的情况</h2><p>调用UiSelector中的函数返回的是一个控件或null，该控件可以使用UiObject中的函数获取相应属性值，一定要先选择控件（findOne()等..）再使用UiObject中的函数；</p>
<p>UISelector在选择的时候，有些界面外的控件也可以选中；</p>
<p>有些控件是不可点击的，可以尝试寻找其父类，其祖父，其祖祖父，其祖祖祖祖祖祖祖祖祖祖父.parent()*n进行点击。</p>
<p>建议使用scollBackward、scollForward进行控件的翻页操作，笔者使用scollUp、scollDown时无效。</p>
<h1 id="免root手机的三种模拟滑动方式"><a href="#免root手机的三种模拟滑动方式" class="headerlink" title="免root手机的三种模拟滑动方式"></a>免root手机的三种模拟滑动方式</h1><h2 id="开发者模式的指针位置"><a href="#开发者模式的指针位置" class="headerlink" title="开发者模式的指针位置"></a>开发者模式的指针位置</h2><p>P: X / Y P就是 pointers ; x 是 current number pointers, y 是 max number pointers ，这些都是指在一个完整gesture中的。也就是，当同时用三手指触摸时x=y=3，而当只抬起一根手指时，当前屏幕上只有两根手指了，但是整个手势事件中最大pointers数是3，所以，x=2，y=3。显示为P:2/3</p>
<p>X:640.9   Y:1250.9  X是active pointer的X轴坐标；Y是active pointer的Y轴坐标。当多点触摸时只有一个pointer是激活pointer（ActivePointer），所以X，Y表示的就是这个ActivePointer的X和Y轴坐标。dX和dY分别代表整个手势结束后活动点（ActivePointer）在X轴和Y轴方向上起始点到终止点的差值，其中X轴上从左到右为正值，Y轴上从上到下是正值，否则为负值。</p>
<h2 id="swipe-x1-y1-x2-y2-duration"><a href="#swipe-x1-y1-x2-y2-duration" class="headerlink" title="swipe(x1, y1, x2, y2, duration)"></a>swipe(x1, y1, x2, y2, duration)</h2><p><code>duration</code> {number} 滑动时长，单位毫秒<br>模拟从坐标(x1, y1)滑动到坐标(x2, y2)，并返回是否成功。只有滑动操作执行完成时脚本才会继续执行。</p>
<h2 id="gesture-duration-x1-y1-x2-y2-…"><a href="#gesture-duration-x1-y1-x2-y2-…" class="headerlink" title="gesture(duration, [x1, y1], [x2, y2], …)"></a>gesture(duration, [x1, y1], [x2, y2], …)</h2><p> <code>duration</code> {number} 手势的时长<br> [x, y] … 手势滑动路径的一系列坐标</p>
<p>模拟手势操作。例如<code>gesture(1000, [0, 0], [500, 500], [500, 1000])</code>为模拟一个从(0, 0)到(500, 500)到(500, 100)的手势操作，时长为2秒。</p>
<h2 id="gestures-delay1-duration1-x1-y1-x2-y2-…-delay2-duration2-x3-y3-x4-y4-…-…"><a href="#gestures-delay1-duration1-x1-y1-x2-y2-…-delay2-duration2-x3-y3-x4-y4-…-…" class="headerlink" title="gestures([delay1, duration1, [x1, y1], [x2, y2], …], [delay2, duration2, [x3, y3], [x4, y4], …], …)"></a>gestures([delay1, duration1, [x1, y1], [x2, y2], …], [delay2, duration2, [x3, y3], [x4, y4], …], …)</h2><p>同时模拟多个手势。每个手势的参数为[delay, duration, 坐标], delay为延迟多久(毫秒)才执行该手势；duration为手势执行时长；坐标为手势经过的点的坐标。</p>
<p>其中delay参数可以省略，默认为0。</p>
<p>例如手指捏合：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gestures([0, 500, [800, 300], [500, 1000]],</span><br><span class="line">         [0, 500, [300, 1500], [500, 1000]]);</span><br></pre></td></tr></tbody></table></figure>


<h1 id="调用java文件"><a href="#调用java文件" class="headerlink" title="调用java文件"></a>调用java文件</h1><p>怎么用aj调用java文件，把Java打包成dex或者jar<br>然后runtime.loadDax</p>
<h1 id="踩过的坑"><a href="#踩过的坑" class="headerlink" title="踩过的坑"></a>踩过的坑</h1><p>如果有界面，那么监听通知需要放在线程里。<br>webview 注入js的js文件需要改后缀，如果还是js,会被加密导致无法使用<br>webview 内页面引用静态文件可以使用相对路径<br>如果多次调用 even.on，event.emit 会触发多次。可以用 even.removeAllListeners进行清除。<br>console.show 调用时范围只是当前线程。<br>不要在UI线程内死循环，要重新开启一个线程，不然会卡死<br>无障碍服务权限申请可以使用auto,直接跳转到设置页。<br>通知使用服务第一次调用后会提示一次之后，如果没有给予权限。大概率不再弹窗，并且不会报错。如果一直没有给权限，而且无法弹窗需要引导用户手动开启，并重启脚本。</p>
<h1 id="支付宝-微信-其他软件"><a href="#支付宝-微信-其他软件" class="headerlink" title="支付宝/微信/其他软件"></a>支付宝/微信/其他软件</h1><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/2c7f2c2cbf78">https://www.jianshu.com/p/2c7f2c2cbf78</a><br>在使用autojs时，遇到支付宝和微信以及一些安全意识较强的平台，很难获取到其页面的控件，无论你是使用autojs自带的控件分析<br>或是Android studio的uiautomatorviewer.bat来分析它们的页面控件，都会分析到。但是你在获取的时侯就会发现根本获取不到，<br>能看到却拿不到的痛苦想必是所有autojs的使用者都非常懊恼的一件事情吧。</p>
<p>原因<br>支付宝和微信都把它们的控件藏起来了，可能是封装成某个类型，那个类型的输出就是空行。</p>
<p>我的方法是获取其控件后在其末尾加了个string，使得整个内容强转成string。</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> meId2 = id(<span class="string">"XXX"</span>).find()+<span class="string">""</span>;<span class="comment">//找到id为XXX的控件，然后加上空字符串</span></span><br><span class="line"><span class="comment">//整个类型现在变成string，现在就可以用字符串截取的方式来获取控件的信息了。</span></span><br></pre></td></tr></tbody></table></figure>

<p>//pro9基本无法使用，低版本可以<br>while(!click(“智慧广工商”));</p>
<p>click(“智慧广工商”)</p>
<h1 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h1><h2 id="获取设备唯一标识"><a href="#获取设备唯一标识" class="headerlink" title="获取设备唯一标识"></a>获取设备唯一标识</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var uuid = device.fingerprint;</span></span><br><span class="line"><span class="comment">// toastLog(uuid)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用device.getAndroidId()代替device.getIMEI().这是因为安卓10以上限制了获取imei码</span></span><br><span class="line"><span class="keyword">var</span> imei = device.getAndroidId()</span><br><span class="line">toast(imei)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// md5加密函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">md5</span>(<span class="params">string</span>)</span>{</span><br><span class="line">	<span class="keyword">var</span> res=java.math.BigInteger(<span class="number">1</span>,java.security.MessageDigest.getInstance(<span class="string">"MD5"</span>).digest(java.lang.String(string).getBytes())).toString(<span class="number">16</span>);</span><br><span class="line">	<span class="keyword">while</span>(res.length&lt;<span class="number">32</span>)res=<span class="string">"0"</span>+res;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="强制结束app进程的功能"><a href="#强制结束app进程的功能" class="headerlink" title="强制结束app进程的功能"></a>强制结束app进程的功能</h2><ul>
<li>root方案</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forceCloseApp</span>(<span class="params">appName</span>) </span>{ <span class="comment">//这里传入的是应用名不是包名</span></span><br><span class="line">    <span class="keyword">var</span> packageName = getPackageName(appName);</span><br><span class="line">    <span class="keyword">var</span> sh = <span class="keyword">new</span> Shell(<span class="literal">true</span>);<span class="comment">//注册一个对象运用shell命令，true(真) 以root权限运行代码，默认为falae假</span></span><br><span class="line">    sh.exec(<span class="string">"am force-stop"</span> + <span class="string">" "</span> + packageName); <span class="comment">//exec命令执行是"异步"的、非阻塞的。也就是不会等待命令完成后才继续向下执行。</span></span><br><span class="line">    sh.exitAndWaitFor();<span class="comment">//执行"exit"命令并等待执行命令执行完成、退出shell。</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>非root方案（曲线救国）</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forceCloseApp</span>(<span class="params">appName</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> packageName = getPackageName(appName);</span><br><span class="line">    app.openAppSetting(packageName);<span class="comment">//打开app的详细信息</span></span><br><span class="line">    <span class="keyword">if</span> (text(<span class="string">"强行停止"</span>).findOne().enabled()) {<span class="comment">//判断强制停止按钮是否可点击，可点击（enabled值为true）则表示在运行，不可点击（enabled值为false）就代表未运行。</span></span><br><span class="line">        text(<span class="string">"强行停止"</span>).findOne().click();</span><br><span class="line">        text(<span class="string">"确定"</span>).findOne().click();</span><br><span class="line">    }</span><br><span class="line">    back();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>控制台</p>
</blockquote>
<p>使用以下方式在新线程中启动</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">threads.start(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (isShowConsole) {</span><br><span class="line">            <span class="built_in">console</span>.show();</span><br><span class="line">        }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>


<h2 id="提取文本中的数字的正则表达式"><a href="#提取文本中的数字的正则表达式" class="headerlink" title="提取文本中的数字的正则表达式"></a>提取文本中的数字的正则表达式</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码举例：</span></span><br><span class="line">timesText = id(<span class="string">"tv_remain_times"</span>).findOne().text();</span><br><span class="line">times = timesText.replace(<span class="regexp">/[^0-9]/ig</span>, <span class="string">""</span>);</span><br></pre></td></tr></tbody></table></figure>



<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">      <span class="comment">// 字段映射</span></span><br><span class="line">      <span class="keyword">let</span> fieldMapping = {</span><br><span class="line">          <span class="string">"id"</span>: <span class="string">"int"</span>,</span><br><span class="line">          <span class="string">"desc"</span>: <span class="string">"String"</span>,</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">// 表名</span></span><br><span class="line">      <span class="keyword">let</span> table = <span class="string">"record"</span>;</span><br><span class="line">      <span class="comment">// 建表</span></span><br><span class="line">      <span class="keyword">let</span> SQL = <span class="string">"CREATE TABLE IF NOT EXISTS "</span> + table+<span class="string">" ("</span></span><br><span class="line">          + <span class="string">"id INTEGER PRIMARY KEY AUTOINCREMENT,"</span></span><br><span class="line">          + <span class="string">"desc VARCHAR(255)"</span></span><br><span class="line">          + <span class="string">")"</span>;</span><br><span class="line">      <span class="comment">// 数据库名</span></span><br><span class="line">      <span class="keyword">let</span> db = <span class="string">"xianyu"</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> dbUtils = <span class="keyword">new</span> DbUtils(db, SQL, fieldMapping);</span><br><span class="line">      <span class="comment">// 创建数据库和表</span></span><br><span class="line">      dbUtils.updateDatabase();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清表</span></span><br><span class="line">dbUtils.deleteRows(table, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据查询</span></span><br><span class="line">      <span class="keyword">let</span> existStatus = dbUtils.isExistRow(<span class="string">"SELECT * FROM  "</span> + table + <span class="string">"  WHERE desc = ?"</span>, [text]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 增加数据</span></span><br><span class="line">dbUtils.addRow(table, { <span class="attr">desc</span>: text });</span><br></pre></td></tr></tbody></table></figure>






<h1 id="图片与颜色"><a href="#图片与颜色" class="headerlink" title="图片与颜色"></a>图片与颜色</h1><p><a target="_blank" rel="noopener" href="https://gitee.com/yiszza/ScriptGraphicHelper#https://gitee.com/yiszza/ScriptGraphicHelper/releases">图色助手</a><br><a target="_blank" rel="noopener" href="https://www.sioe.cn/yingyong/yanse-rgb-16/">RGB颜色值与十六进制颜色码转换工具</a></p>
<h2 id="图片回收机制"><a href="#图片回收机制" class="headerlink" title="图片回收机制"></a>图片回收机制</h2><p>image对象创建后尽量在不使用时进行回收，同时避免循环创建大量图片。因为图片是一种占用内存比较大的资源</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读取图片</span></span><br><span class="line"><span class="keyword">var</span> img = images.read(<span class="string">"./1.png"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不用后回收图片</span></span><br><span class="line">img.recycle();</span><br></pre></td></tr></tbody></table></figure>





<h2 id="base64编码转换"><a href="#base64编码转换" class="headerlink" title="base64编码转换"></a>base64编码转换</h2><p>加快图片传输速度</p>
<p><a target="_blank" rel="noopener" href="https://tool.chinaz.com/tools/imgtobase">base64图片转换工具</a></p>
<h3 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h3><p>1.images.fromBase64(图片的Base64数据)<br>解码Base64数据并返回解码后的图片Image对象。如果base64无法解码则返回null。</p>
<p>2.images.toBase64(Image对象[, 图片格式, 图片质量])<br>返回 {string},把图片编码为base64数据并返回。</p>
<h3 id="bytes"><a href="#bytes" class="headerlink" title="bytes"></a>bytes</h3><p>images.fromBytes(bytes)<br>bytes {byte[]} 字节数组<br>解码字节数组bytes并返回解码后的图片Image对象。如果bytes无法解码则返回null。</p>
<p>images.toBytes(Image对象[, 图片格式, 图片质量])</p>
<p>返回 {byte[]}<br>把图片编码为字节数组并返回。</p>
<h2 id="images模块"><a href="#images模块" class="headerlink" title="images模块"></a>images模块</h2><p>提供了一些手机设备中常见的图片处理函数，包括截图、读写图片、图片剪裁、旋转、二值化、找色找图等。</p>
<h3 id="读取图片"><a href="#读取图片" class="headerlink" title="读取图片"></a>读取图片</h3><p>images.read(图片路径)</p>
<p>{string}<br>读取图片并返回Image对象。失败返回null。</p>
<p>images.load(图片URL地址)<br>加载在地址URL的网络图片并返回一个Image对象。失败则返回null。</p>
<p>images.copy(Image对象)</p>
<p>返回 {Image}<br>复制一张图片并返回新的副本。该函数会完全复制img对象的数据。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同级目录</span></span><br><span class="line">images.read(<span class="string">"1.png"</span>)</span><br><span class="line"></span><br><span class="line">路径最好写全(<span class="string">"/sdcard/脚本/1.png"</span>)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="保存图片"><a href="#保存图片" class="headerlink" title="保存图片"></a>保存图片</h3><p>images.save(Image对象, 路径[, 图片格式,  图片质量])</p>
<p>{string} 图片格式，可选的值为:png，jpeg/jpg，webp<br>{number} 图片质量，为0~100的整数值<br>把图片image以PNG格式保存到path中。如果文件不存在会被创建；文件存在会被覆盖。</p>
<p>Image对象.saveTo(path)  //保存图片</p>
<h3 id="图片处理"><a href="#图片处理" class="headerlink" title="图片处理"></a>图片处理</h3><h4 id="images-clip"><a href="#images-clip" class="headerlink" title="images.clip()"></a>images.clip()</h4><p>images.clip(Image对象, x, y, w, h)</p>
<p>x {number} 剪切区域的左上角横坐标<br>y {number} 剪切区域的左上角纵坐标<br>w {number} 剪切区域的宽度<br>h {number} 剪切区域的高度<br>返回 {Image}<br>从图片img的位置(x, y)处剪切大小为w * h的区域，并返回该剪切区域的新图片</p>
<h4 id="images-scale"><a href="#images-scale" class="headerlink" title="images.scale()"></a>images.scale()</h4><p>images.scale(img, fx, fy[, interpolation])<br>[v4.1.0新增]</p>
<p>img {Image} 图片</p>
<p>fx {number} 宽度放缩倍数</p>
<p>fy {number} 高度放缩倍数</p>
<p>interpolation {string} 插值方法，可选，默认为”LINEAR”（线性插值），可选的值有：<br>    NEAREST 最近邻插值<br>    LINEAR 线性插值（默认）<br>    AREA 区域插值<br>    CUBIC 三次样条插值<br>    LANCZOS4 Lanczos插值 参见InterpolationFlags</p>
<p>返回 {Image}对象<br>放缩图片，并返回放缩后的图片。例如把图片变成原来的一半：images.scale(img, 0.5, 0.5)。</p>
<h3 id="区域找色"><a href="#区域找色" class="headerlink" title="区域找色"></a>区域找色</h3><h3 id="多点找色"><a href="#多点找色" class="headerlink" title="多点找色"></a>多点找色</h3><p>images.findMultiColors(img, firstColor, colors[, options])<br>img:要找色的图片<br>firstColor {number | string} 第一个点的颜色<br>colors {Array} 表示剩下的点相对于第一个点的位置和颜色的数组，数组的每个元素为[x, y, color]</p>
<p>options {Object} 选项，包括：<br>  region {Array} 找色区域。是一个两个或四个元素的数组。<br>  (region[0], region[1])表示找色区域的左上角；region[2]*region[3]表示找色区域的宽高。如果只有region只有两个元素，则找色区域为(region[0], region[1])到图片右下角。如果不指定region选项，则找色区域为整张图片。</p>
<p>  threshold {number} 找色时颜色相似度的临界值，范围为0 -255（越小越相似，0为颜色相等，255为任何颜色都能匹配）。默认为4。threshold和浮点数相似度(0.0~1.0)的换算为 similarity = (255 - threshold) / 255.</p>
<p>多点找色,其过程如下：<br>在图片img中找到颜色firstColor的位置(x0, y0)<br>对于数组colors的每个元素[x, y, color]，检查图片img在位置(x + x0, y + y0)上的像素是否是颜色color，是的话返回(x0, y0)，否则继续寻找firstColor的位置，重新执行第1步<br>整张图片都找不到时返回null</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = images.findMultiColors(img, <span class="string">"#123456"</span>, [[<span class="number">10</span>, <span class="number">20</span>, <span class="string">"#ffffff"</span>], [<span class="number">30</span>, <span class="number">40</span>, <span class="string">"#000000"</span>]], </span><br><span class="line">{<span class="attr">region</span>: [<span class="number">0</span>, <span class="number">960</span>, <span class="number">1080</span>, <span class="number">960</span>]});</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point =images.findMultiColors(captureScreen(),<span class="string">"#1e9e6c"</span>,[[<span class="number">54</span>,<span class="number">4</span>,<span class="string">"#1e9e6c"</span>],[-<span class="number">1</span>,-<span class="number">2</span>,<span class="string">"#1e9e6c"</span>],[-<span class="number">1</span>,-<span class="number">2</span>,<span class="string">"#1e9e6c"</span>]])</span><br><span class="line">toastLog(<span class="string">"x = "</span> + point.x + <span class="string">", y = "</span> + point.y);</span><br><span class="line">click (point.x, point.y)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="colors模块"><a href="#colors模块" class="headerlink" title="colors模块"></a>colors模块</h2><p><a target="_blank" rel="noopener" href="http://www.gjw123.com/tools-rgbcolor">颜色在线转换</a><br><a target="_blank" rel="noopener" href="https://www.sioe.cn/yingyong/yanse-rgb-16/">https://www.sioe.cn/yingyong/yanse-rgb-16/</a></p>
<p>在Auto.js有两种方式表示一个颜色。</p>
<h3 id="颜色字符串"><a href="#颜色字符串" class="headerlink" title="颜色字符串"></a>颜色字符串</h3><p>colors.toString(整数RGB颜色值)<br>参数 {number} 整数RGB颜色值<br>返回 {string}颜色值的字符串，格式为 “#AARRGGBB”。</p>
<h3 id="颜色整数"><a href="#颜色整数" class="headerlink" title="颜色整数"></a>颜色整数</h3><p>使用一个16进制的”32位整数” 0xAARRGGBB 来表示一个颜色</p>
<p>colors.parseColor(颜色的字符串)<br>参数 {string} 表示颜色的字符串，例如”#112233”<br>返回 {number}颜色的整数值。</p>
<h3 id="两个颜色是否相似"><a href="#两个颜色是否相似" class="headerlink" title="两个颜色是否相似"></a>两个颜色是否相似</h3><p>colors.isSimilar(color1, color2[, threshold, algorithm])<br>color1 {number} | {string}<br>color1 {number} | {string} </p>
<p>threshold {number} 颜色相似度临界值，默认为4。取值范围为0~255。这个值越大表示允许的相似程度越小，如果这个值为0，则两个颜色相等时该函数才会返回true。<br>algorithm {string} 颜色匹配算法，默认为”diff”<br>返回 {Boolean}<br>返回两个颜色是否相似。</p>
<h3 id="两个颜色是否相等"><a href="#两个颜色是否相等" class="headerlink" title="两个颜色是否相等"></a>两个颜色是否相等</h3><p>colors.equals(color1, color2)<br>color1 {number} | {string} 颜色值1<br>color1 {number} | {string} 颜色值2<br>返回 {Boolean}<br>返回两个颜色是否相等。*注意该函数会忽略Alpha通道的值进行比较。</p>
<h1 id="Autojs-本地验证（一机一码）"><a href="#Autojs-本地验证（一机一码）" class="headerlink" title="Autojs 本地验证（一机一码）"></a>Autojs 本地验证（一机一码）</h1><h2 id="1、一机一码的实现原理"><a href="#1、一机一码的实现原理" class="headerlink" title="1、一机一码的实现原理"></a>1、一机一码的实现原理</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">机器码：设备的唯一标识</span><br><span class="line"></span><br><span class="line">注册机：用于激活设备，生成激活码。</span><br><span class="line"></span><br><span class="line">激活码：用于激活设备</span><br></pre></td></tr></tbody></table></figure>



<h2 id="2、一机一码UI界面的开发"><a href="#2、一机一码UI界面的开发" class="headerlink" title="2、一机一码UI界面的开发"></a>2、一机一码UI界面的开发</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"ui"</span>;</span><br><span class="line">ui.layout(</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">vertical</span> <span class="attr">padding</span>=<span class="string">'10'</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"机器码："</span>/&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"machineCode"</span> <span class="attr">w</span>=<span class="string">'*'</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"激活码："</span>/&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"activationCode"</span> <span class="attr">w</span>=<span class="string">'*'</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">'activation'</span> <span class="attr">text</span>=<span class="string">"激活"</span>/&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">vertical</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ui.activation.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">'激活成功！'</span>);</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>



<h2 id="3、注册机UI界面的开发"><a href="#3、注册机UI界面的开发" class="headerlink" title="3、注册机UI界面的开发"></a>3、注册机UI界面的开发</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"ui"</span>;</span><br><span class="line">ui.layout(</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">vertical</span> <span class="attr">padding</span>=<span class="string">'10'</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"机器码："</span>/&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"machineCode"</span> <span class="attr">w</span>=<span class="string">'*'</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">'activation'</span> <span class="attr">text</span>=<span class="string">"生成激活码"</span>/&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"激活码："</span> <span class="attr">textColor</span>=<span class="string">"red"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">'activationCode'</span> <span class="attr">text</span>=<span class="string">'未生成'</span>/&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">vertical</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ui.activation.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    ui.activationCode.setText(<span class="string">'123456'</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>



<h2 id="4、获取手机唯一标识"><a href="#4、获取手机唯一标识" class="headerlink" title="4、获取手机唯一标识"></a>4、获取手机唯一标识</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var uuid = device.fingerprint;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> imei = device.getIMEI()</span><br><span class="line"></span><br><span class="line">toast(imei)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="5、完成第一个脚本注册机验证"><a href="#5、完成第一个脚本注册机验证" class="headerlink" title="5、完成第一个脚本注册机验证"></a>5、完成第一个脚本注册机验证</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">脚本端</span><br><span class="line"></span><br><span class="line"><span class="string">"ui"</span>;</span><br><span class="line">ui.layout(</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">vertical</span> <span class="attr">padding</span>=<span class="string">'10'</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"机器码："</span>/&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"machineCode"</span> <span class="attr">w</span>=<span class="string">'*'</span> <span class="attr">text</span>=<span class="string">''</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"激活码："</span>/&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"activationCode"</span> <span class="attr">w</span>=<span class="string">'*'</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">'activation'</span> <span class="attr">text</span>=<span class="string">"激活"</span>/&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">vertical</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> uuid = device.fingerprint;</span><br><span class="line"></span><br><span class="line">ui.machineCode.setText(uuid)</span><br><span class="line"></span><br><span class="line">ui.activation.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">//取算法得到的值</span></span><br><span class="line">    <span class="keyword">var</span> res = ui.machineCode.text() +<span class="string">"aaa"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// log(typeof(ui.activationCode.text()))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// log(typeof(res.toString()))</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(ui.activationCode.text() === res.toString()){</span><br><span class="line">        alert(<span class="string">'激活成功！'</span>);</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        alert(<span class="string">'激活失败！'</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// alert('激活成功！');</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">注册机端</span><br><span class="line"></span><br><span class="line"><span class="string">"ui"</span>;</span><br><span class="line">ui.layout(</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">vertical</span> <span class="attr">padding</span>=<span class="string">'10'</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"机器码："</span>/&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"machineCode"</span> <span class="attr">w</span>=<span class="string">'*'</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">horizontal</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">'activation'</span> <span class="attr">text</span>=<span class="string">"生成激活码"</span>/&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">"激活码："</span> <span class="attr">textColor</span>=<span class="string">"red"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">'activationCode'</span> <span class="attr">text</span>=<span class="string">'未生成'</span>/&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">vertical</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//算法是  uuid+"aaa" </span></span><br><span class="line"></span><br><span class="line">ui.activation.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> machineCode = ui.machineCode.text();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> activationCode = machineCode + <span class="string">'aaa'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// toast(activationCode)</span></span><br><span class="line"></span><br><span class="line">    ui.activationCode.setText(activationCode.toString())</span><br><span class="line"></span><br><span class="line">    setClip(activationCode.toString())</span><br><span class="line"></span><br><span class="line">    toast(<span class="string">'激活码已复制'</span>)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<h2 id="6、对手机唯一标识符进行加密"><a href="#6、对手机唯一标识符进行加密" class="headerlink" title="6、对手机唯一标识符进行加密"></a>6、对手机唯一标识符进行加密</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">md5</span>(<span class="params">string</span>)</span>{</span><br><span class="line">	<span class="keyword">var</span> res=java.math.BigInteger(<span class="number">1</span>,java.security.MessageDigest.getInstance(<span class="string">"MD5"</span>).digest(java.lang.String(string).getBytes())).toString(<span class="number">16</span>);</span><br><span class="line">	<span class="keyword">while</span>(res.length&lt;<span class="number">32</span>)res=<span class="string">"0"</span>+res;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="7、增加时间验证"><a href="#7、增加时间验证" class="headerlink" title="7、增加时间验证"></a>7、增加时间验证</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//格式化时间</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dateFormat</span>(<span class="params">thisDate, fmt</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> o = {</span><br><span class="line">        <span class="string">"M+"</span>: thisDate.getMonth() + <span class="number">1</span>,</span><br><span class="line">        <span class="string">"d+"</span>: thisDate.getDate(),</span><br><span class="line">        <span class="string">"h+"</span>: thisDate.getHours(),</span><br><span class="line">        <span class="string">"m+"</span>: thisDate.getMinutes(),</span><br><span class="line">        <span class="string">"s+"</span>: thisDate.getSeconds(),</span><br><span class="line">        <span class="string">"q+"</span>: <span class="built_in">Math</span>.floor((thisDate.getMonth() + <span class="number">3</span>) / <span class="number">3</span>),</span><br><span class="line">        <span class="string">"S"</span>: thisDate.getMilliseconds()</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.test(fmt))</span><br><span class="line">        fmt = fmt.replace(<span class="built_in">RegExp</span>.$1, (thisDate.getFullYear() + <span class="string">""</span>).substr(<span class="number">4</span> - <span class="built_in">RegExp</span>.$1.length));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o)</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"("</span> + k + <span class="string">")"</span>).test(fmt))</span><br><span class="line">            fmt = fmt.replace(<span class="built_in">RegExp</span>.$1, (<span class="built_in">RegExp</span>.$1.length == <span class="number">1</span>) ? (o[k]) : ((<span class="string">"00"</span> + o[k]).substr((<span class="string">""</span> + o[k]).length)));</span><br><span class="line">    <span class="keyword">return</span> fmt;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="8、增加时间验证（二）"><a href="#8、增加时间验证（二）" class="headerlink" title="8、增加时间验证（二）"></a>8、增加时间验证（二）</h2><h2 id="9、开发日卡、月卡、年卡功能"><a href="#9、开发日卡、月卡、年卡功能" class="headerlink" title="9、开发日卡、月卡、年卡功能"></a>9、开发日卡、月卡、年卡功能</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;horizontal&gt;</span><br><span class="line">    &lt;text textSize="16sp"&gt;充值类型&lt;/text&gt;</span><br><span class="line">    &lt;spinner id="sp1" entries="月卡|年卡" textColor="red"/&gt;</span><br><span class="line">&lt;/horizontal&gt;</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui.sp1.getSelectedItemPosition();</span><br></pre></td></tr></tbody></table></figure>



<h2 id="10、激活码限制脚本运行"><a href="#10、激活码限制脚本运行" class="headerlink" title="10、激活码限制脚本运行"></a>10、激活码限制脚本运行</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validTime</span>(<span class="params">ntime</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (toTime() &lt; ntime || IntTime() &lt; ntime) {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toTime</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> java.text.SimpleDateFormat(<span class="string">"yyyyMMddHHmmss"</span>).format(<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IntTime</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="keyword">var</span> recode_suning = http.get(<span class="string">"http://quan.suning.com/getSysTime.do"</span>);</span><br><span class="line">        <span class="keyword">var</span> suningTime = recode_suning.body.json();</span><br><span class="line">        <span class="keyword">return</span> suningTime.sysTime1;</span><br><span class="line">    } <span class="keyword">catch</span> (e) {}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="11、保存激活状态到本地"><a href="#11、保存激活状态到本地" class="headerlink" title="11、保存激活状态到本地"></a>11、保存激活状态到本地</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var storage = storages.create('activation');</span><br></pre></td></tr></tbody></table></figure>



<h2 id="12、解决时间验证bug方法"><a href="#12、解决时间验证bug方法" class="headerlink" title="12、解决时间验证bug方法"></a>12、解决时间验证bug方法</h2><h2 id="13、完善激活码交互逻辑"><a href="#13、完善激活码交互逻辑" class="headerlink" title="13、完善激活码交互逻辑"></a>13、完善激活码交互逻辑</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dialogs.build({</span><br><span class="line">        <span class="attr">title</span>: <span class="string">"机器码："</span>,</span><br><span class="line">        <span class="attr">content</span>: uuid,</span><br><span class="line">        <span class="attr">negative</span>: <span class="string">"输入激活码"</span>,</span><br><span class="line">        <span class="attr">positive</span>: <span class="string">"复制机器码"</span></span><br><span class="line">    }).on(<span class="string">"positive"</span>, <span class="function">()=&gt;</span>{</span><br><span class="line">      setClip(uuid);</span><br><span class="line">      toast(<span class="string">"机器码已复制"</span>);</span><br><span class="line">    }).on(<span class="string">"negative"</span>, <span class="function">()=&gt;</span>{</span><br><span class="line">        rawInput(<span class="string">"请输入激活码"</span>, <span class="string">""</span>, 激活码 =&gt; {</span><br><span class="line">            </span><br><span class="line">       });</span><br><span class="line">    }).show();</span><br></pre></td></tr></tbody></table></figure>



<h2 id="14、封装验证激活码函数-一"><a href="#14、封装验证激活码函数-一" class="headerlink" title="14、封装验证激活码函数(一)"></a>14、封装验证激活码函数(一)</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//验证激活码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateCode</span>(<span class="params">uuid,activation</span>)</span>{</span><br><span class="line">    <span class="comment">//取算法得到的值</span></span><br><span class="line">    <span class="keyword">var</span> res = uuid +<span class="string">"aaa"</span>;</span><br><span class="line">    <span class="comment">//解密激活码</span></span><br><span class="line">    <span class="keyword">var</span> res2 = activation.split(<span class="string">'&amp;'</span>);</span><br><span class="line">    <span class="keyword">var</span> activationCode = res2[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> timestamp = res2[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取未来的格式化时间</span></span><br><span class="line">    <span class="keyword">var</span> timestamp2 = dateFormat(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(timestamp)), <span class="string">"yyyyMMddhhmmss"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(activationCode === res.toString() &amp;&amp; validTime(timestamp2)){</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="15、封装验证激活码函数-二"><a href="#15、封装验证激活码函数-二" class="headerlink" title="15、封装验证激活码函数(二)"></a>15、封装验证激活码函数(二)</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//验证激活码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateCode</span>(<span class="params">uuid,activation</span>)</span>{</span><br><span class="line">    <span class="comment">//取算法得到的值</span></span><br><span class="line">    <span class="keyword">var</span> res = uuid +<span class="string">"aaa"</span>;</span><br><span class="line">    <span class="comment">//解密激活码</span></span><br><span class="line">    <span class="keyword">var</span> res2 = activation.split(<span class="string">'&amp;'</span>);</span><br><span class="line">    <span class="keyword">var</span> activationCode = res2[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> timestamp = res2[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取未来的格式化时间</span></span><br><span class="line">    <span class="keyword">var</span> timestamp2 = dateFormat(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(timestamp)), <span class="string">"yyyyMMddhhmmss"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(activationCode === res.toString()){</span><br><span class="line">        <span class="keyword">if</span>(validTime(timestamp2)){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        }</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="16、封装注册机加密函数"><a href="#16、封装注册机加密函数" class="headerlink" title="16、封装注册机加密函数"></a>16、封装注册机加密函数</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//算法函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encrypt</span>(<span class="params">machineCode,timestamp</span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> activationCode = machineCode + <span class="string">'aaa&amp;'</span>+timestamp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> activationCode;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="17、升级加密复杂度（一）"><a href="#17、升级加密复杂度（一）" class="headerlink" title="17、升级加密复杂度（一）"></a>17、升级加密复杂度（一）</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 加密字符串<span class="number">1</span> = md5(uuid+timestamp);</span><br><span class="line"><span class="keyword">var</span> 加密时间 = ((timestamp-<span class="number">0</span>+<span class="number">10000</span>)*<span class="number">903</span>)/<span class="number">100000</span>;</span><br><span class="line"><span class="keyword">var</span> 加密字符串<span class="number">2</span> = md5((md5(<span class="string">"litikj"</span> +加密字符串<span class="number">1</span> +<span class="string">"litikj"</span>)+<span class="string">"litikj"</span>) +加密时间 +md5(uuid)+<span class="string">"112233"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> 激活码 = 加密字符串<span class="number">1</span>+<span class="string">"&amp;"</span>+加密时间+<span class="string">"&amp;"</span>+加密字符串<span class="number">2</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="18、升级加密复杂度（二）"><a href="#18、升级加密复杂度（二）" class="headerlink" title="18、升级加密复杂度（二）"></a>18、升级加密复杂度（二）</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//验证激活码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateCode</span>(<span class="params">uuid,activation</span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> codeArr = activation.split(<span class="string">"&amp;"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> str1 = codeArr[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> encryptTime = codeArr[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> str2 = codeArr[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> timestamp = (<span class="built_in">Number</span>(encryptTime) * <span class="number">100000</span>) / <span class="number">903</span> -<span class="number">10000</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//格式化时间</span></span><br><span class="line">    <span class="keyword">var</span> timestamp2 = dateFormat(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(timestamp)), <span class="string">"yyyyMMddhhmmss"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断激活码是否有效</span></span><br><span class="line">    <span class="keyword">if</span>(str1 === md5(uuid+timestamp) &amp;&amp; str2 === md5((md5(<span class="string">"litikj"</span> +md5(uuid+timestamp) +<span class="string">"litikj"</span>)+<span class="string">"litikj"</span>) +encryptTime +md5(uuid)+<span class="string">"112233"</span>)){</span><br><span class="line">        <span class="comment">//算法一样</span></span><br><span class="line">        <span class="keyword">if</span>(validTime(timestamp2)){</span><br><span class="line">            <span class="comment">//时间正常</span></span><br><span class="line">            ui.end.setText(<span class="string">'到期时间:'</span>);</span><br><span class="line">            ui.time.setText(dateFormat(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(timestamp)), <span class="string">'yyyy年MM月dd日 hh:mm:ss'</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="comment">//时间过期</span></span><br><span class="line">            ui.end.setText(<span class="string">'时间过期:'</span>);</span><br><span class="line">            ui.time.setText(dateFormat(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(timestamp)), <span class="string">'yyyy年MM月dd日 hh:mm:ss'</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        }</span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">        <span class="comment">//算法不一样</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="19、增加运行脚本时的验证方法"><a href="#19、增加运行脚本时的验证方法" class="headerlink" title="19、增加运行脚本时的验证方法"></a>19、增加运行脚本时的验证方法</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">if</span>(storage.get(<span class="string">'activation'</span>)){</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">var</span> res = validateCode(uuid,storage.get(<span class="string">'activation'</span>))</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">switch</span>(res){</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    scriptStatus = <span class="literal">false</span>; </span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    scriptStatus = <span class="literal">true</span>; </span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    scriptStatus = <span class="literal">false</span>;    </span><br><span class="line">                    <span class="keyword">break</span>;         </span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="20、给脚本添加一机一码功能（一）"><a href="#20、给脚本添加一机一码功能（一）" class="headerlink" title="20、给脚本添加一机一码功能（一）"></a>20、给脚本添加一机一码功能（一）</h2><h2 id="21、给脚本添加一机一码功能（二）"><a href="#21、给脚本添加一机一码功能（二）" class="headerlink" title="21、给脚本添加一机一码功能（二）"></a>21、给脚本添加一机一码功能（二）</h2><h1 id="如何写游戏脚本"><a href="#如何写游戏脚本" class="headerlink" title="如何写游戏脚本"></a>如何写游戏脚本</h1><h2 id="触摸模拟"><a href="#触摸模拟" class="headerlink" title="触摸模拟"></a>触摸模拟</h2><ul>
<li><p><code>sleep(n)</code>：暂停运行n毫秒，游戏脚本中最常出现的一个命令；有一些操作必须给它一定的缓冲时间才能正确运行完成。</p>
</li>
<li><p>随机数： <code>random(min,max)</code>指定区间、<code>random()</code>范围是[0,1)；点击坐标时常设置一个随机偏移，防止被检测到（每次都点同一个点还是太明显了）</p>
</li>
<li><p>分辨率适配问题，<code>setScreenMetrics(1080, 1920);</code>、表示脚本适合的屏幕宽高为1080x1920（编脚本时基于的设备），如果在别的分辨率手机上运行则会自动放缩光标。听上去很好的一个功能，一般游戏脚本必加这一行，但具体效果如何我没有测试过。</p>
</li>
<li><p><code>click(x,y)</code>：点击坐标（无需root权限），返回是否成功，点击过程大约150ms，可能被其他事件中断。更长时间的点击如<code>longClick(x,y)</code>、持续600ms。</p>
</li>
<li><p><code>press(x,y,duartion)</code>：按住坐标，一般超过500ms才被系统认为是长按。</p>
</li>
<li><p><code>swipe(x1,y1,x2,y2,duration)</code>： 从(x1,y1)滑动到(x2,y2)，持续duration。</p>
</li>
<li><p><code>RootAutomator</code><br>  上面的几个触摸操作都是免root的，而基于RootAutomator对象的触摸需要root权限，优点是执行没有延迟，明显比click要快。</p>
</li>
</ul>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var ra=new RootAutomator(); //初始化一个对象</span><br><span class="line">ra.tap(x,y,id); //id代表不同“手指”，用于多点触摸，不需要时可省略该参数</span><br><span class="line">ra.swipe(x1,y1,x2,y2,duration,id)</span><br><span class="line">ra.press(x,y,duration,id)</span><br><span class="line">// 这些命令组合在一起就能完成复杂的操作了~</span><br><span class="line">ra.touchDown(x,y,id)</span><br><span class="line">ra.touchMove(x,y,id)</span><br><span class="line">ra.touchUp(id)</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>模拟按键；（返回bool值）</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(back()){};    <span class="comment">//按下返回键</span></span><br><span class="line">home()  <span class="comment">//返回桌面</span></span><br><span class="line">还有一些需要root权限的，开头字母大写:</span><br><span class="line"><span class="comment">//Home()、Back()、Power()、Menu()、OK()、KeyCode()...</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="colors"><a href="#colors" class="headerlink" title="colors"></a>colors</h2><p>颜色常用十六进制值或RGB值来表示，如蓝色可表示为<code>#0000FF</code>或<code>(0,0,255)</code>，一般都是<code>#</code>后面带6位十六进制数，分别表示R、G、B，但Autojs是8位，前面多了一个<code>A(Alpha)</code>、表示透明度，即ARGB。</p>
<ul>
<li>Autojs通过一个16进制整数或一个字符串表示一个颜色，两者可以互相转换</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myBlue=colors.toString(color.BLUE); <span class="comment">//返回#ff0000ff,colors.BLUE代表蓝色，后面必须大写。</span></span><br><span class="line"><span class="keyword">var</span> numBlue=colors.parseColor(<span class="string">"#ff0000ff"</span>); <span class="comment">//返回-16776961,至于为什么是这个数我也不清楚，平时还是用字符串表示比较好。</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>colors对象里还有一些判断两个颜色的相似度、返回A、R、G、B通道值的函数，平时也基本上用不上；颜色的用途主要体现在后面的多点找色上。</li>
</ul>
<h2 id="images"><a href="#images" class="headerlink" title="images"></a>images</h2><p>游戏脚本的灵魂所在，images主要有图片处理、找图、找色几个部分；想让脚本识别游戏的某个区域、如果该区域的位置是固定的，通过构造多点比色比较快，而如果位置不固定则常用找图的方式，虽然占用资源比较多但准确性有保障。</p>
<ul>
<li>images对象使用完后必须回收，防止内存泄漏。</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img=images.read(<span class="string">"./name.png"</span>);  <span class="comment">//读取图片，错误时返回null</span></span><br><span class="line"><span class="comment">//var img=images.load(url); //从网址获取图片</span></span><br><span class="line"><span class="comment">//...图片操作后回收</span></span><br><span class="line">img.recycle();</span><br><span class="line"><span class="comment">// 例外：captureScreen()返回的图片无需回收</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>mages对象能对图像进行复制、保存、Base64编码解码、剪切、调整大小、放缩、旋转、拼接、灰度化、阈值化、颜色控件转换、二值化、模糊与平滑处理、滤波…（强是很强大，就是基本上用不上）</li>
<li>获取截图权限：在找图找色之前往往要先获取当前屏幕的截图，这个截图一般是临时的、不会保存到文件（也可以设置保存）。 截图之前要向系统<strong>申请一次</strong>截图权限：</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!requestScreenCapture()){    <span class="comment">//可指定参数true（横屏截图） 或者 false（竖屏截图）</span></span><br><span class="line">    toast(<span class="string">"请求截图失败"</span>);</span><br><span class="line">    exit();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>请求截图: <code>captureScreen</code></li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在此之前记住要请求一次截图权限</span></span><br><span class="line"><span class="keyword">var</span> img=captureScreen();    <span class="comment">//可以指定保存路径path</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>颜色获取，很重要的一个函数，后面多点找色时可以先用它获取参数值。</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取某点的ARGB颜色值</span></span><br><span class="line"><span class="keyword">var</span> color=images.pixel(img,<span class="number">100</span>,<span class="number">200</span>);    <span class="comment">//img是之前创建的images对象</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>区域找色（一种颜色）；<code>findColor</code>、<code>findColorInRegion</code>、<code>findColorEquals</code></li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先说下region和threshold这两个参数，后面的找色函数options里都要用到：</span></span><br><span class="line"><span class="comment">//region、找色区域，默认全图、指定[x,y]代表左上角点，从(x,y)到右下角；指定[x,y,width,height]则代表从(x,y)到(x+width,y+height)。</span></span><br><span class="line"><span class="comment">//threshold、相似度临界值，0~255，默认为4；similarity=1-threshold/255，可以算出默认相似度达到了0.98，觉得太严了可以适当增大threshold</span></span><br><span class="line"><span class="keyword">var</span> point = images.findColor(img, <span class="string">"#ff0000"</span>, { <span class="attr">region</span>: [<span class="number">100</span>, <span class="number">200</span>], <span class="attr">threshold</span>: <span class="number">10</span> });</span><br><span class="line"><span class="comment">//如果找到则返回一个点，如：{463.0, 1242.0}；找不到返回null。</span></span><br><span class="line"><span class="comment">//这里颜色值是6位，8位也行不过会忽略A通道（透明度）。</span></span><br><span class="line"><span class="comment">// findColorInRegion，功能和findColor一样，只是优化了下参数表示。</span></span><br><span class="line"><span class="keyword">var</span> point=images.findColorInRegion(img,<span class="string">"#ff0000"</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">1080</span>,<span class="number">1920</span>,<span class="number">10</span>);</span><br><span class="line"><span class="comment">// findColorEquals，要求颜色完全相等，相当于findColor的threshold参数设为0</span></span><br><span class="line"><span class="keyword">var</span> point=images.findColorEquals(img,<span class="string">"#ff0000"</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">1080</span>,<span class="number">1920</span>);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>多点找色：<code>findMultiColors</code>，先定位第一个点的颜色、根据(x,y)偏移获取并对比第二个点的颜色…以此类推，命令很麻烦，通常需要写一个函数来构造颜色列。</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> point = images.findMultiColors(img, <span class="string">"#ff949fc7"</span>,    <span class="comment">//第一个点</span></span><br><span class="line">    [[<span class="number">60</span>, <span class="number">60</span>, <span class="string">"#ffe6efe6"</span>], <span class="comment">//颜色Array，</span></span><br><span class="line">    [<span class="number">60</span>, -<span class="number">60</span>, <span class="string">"#ffeef3e6"</span>],</span><br><span class="line">    [-<span class="number">60</span>, <span class="number">60</span>, <span class="string">"#ffe6efe6"</span>],</span><br><span class="line">    [-<span class="number">60</span>, -<span class="number">60</span>, <span class="string">"#ffeef3e6"</span>]],</span><br><span class="line">    { <span class="attr">region</span>: [<span class="number">1548</span>, <span class="number">803</span>, <span class="number">140</span>, <span class="number">140</span>] })  <span class="comment">//指定区域</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>检测某坐标颜色：前几个命令都是根据颜色找坐标，这个是给坐标、比较颜色</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(images.detectsColor(img,<span class="string">"#fed9a8"</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">16</span>,<span class="string">"diff"</span>)){}</span><br><span class="line"><span class="comment">//最后两个参数可省略，代表threshold和匹配算法；x=100,y=200</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>找图：有时候找颜色会匹配到一些奇怪的地方去，还得用找图来实现，有<code>images.findImage</code>、<code>images.findImageInRegion</code>、<code>images.matchTemplate</code>。</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp1=images.read(pathToImage);</span><br><span class="line"><span class="keyword">var</span> point=images.findImage(img,temp1,{ <span class="attr">region</span>: [<span class="number">100</span>, <span class="number">200</span>], <span class="attr">threshold</span>: <span class="number">10</span> });</span><br><span class="line"><span class="comment">//同样findImageInRegion只是优化了下参数排列</span></span><br><span class="line"><span class="comment">//matchTemplate可以同时返回找到的多个位置，通过max控制最大的结果数量</span></span><br><span class="line"><span class="keyword">var</span> result=images.matchTemplate(img,temp1,{ <span class="attr">region</span>: [<span class="number">100</span>, <span class="number">200</span>], <span class="attr">threshold</span>: <span class="number">10</span> ,<span class="attr">max</span>:<span class="number">5</span>});</span><br><span class="line"><span class="comment">//返回类型是一个MatchingResult对象，有point和similarity这两个数据成员。</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="脚本结构管理"><a href="#脚本结构管理" class="headerlink" title="脚本结构管理"></a>脚本结构管理</h2><h3 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h3><p>在一个文件里通过<code>module.exports =...;</code>把某个对象导出，从而可以在另一个文件通过<code>var name=require('file.js');</code>导入；相当于把整个文件当做一个函数，把exports的东西当做返回值。感觉用起来也不太方便，我选择不用这个功能。</p>
<h3 id="Threads"><a href="#Threads" class="headerlink" title="Threads"></a>Threads</h3><ul>
<li>启动一个子线程，<code>threads.start</code>：</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//启动一个无限循环的线程</span></span><br><span class="line"><span class="keyword">var</span> thread = threads.start(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{  <span class="comment">//用thread对象可以控制线程运行状态，如果不需要操作可以改为：</span></span><br><span class="line"><span class="comment">//threads.start(function(){</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>){</span><br><span class="line">        log(<span class="string">"子线程运行中..."</span>);</span><br><span class="line">        sleep(<span class="number">1000</span>);</span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line">sleep(<span class="number">5000</span>);</span><br><span class="line">thread.interrupt();</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p><code>threads.shutDownAll()</code>： 停止所有通过<code>threads.start()</code>启动的子线程</p>
</li>
<li><p>等待线程开始执行（一般start后需要一段时间）：<code>thread.waitFor();</code>（这里thread是前面创建的thread变量）</p>
</li>
<li><p>等待线程执行完成：<code>thread.join();</code>，参数可以指定一个等待时间</p>
</li>
<li><p>中断线程运行：<code>thread.interrupt();</code></p>
</li>
<li><p>注意多线程中的变量问题，涉及到<strong>线程安全</strong>，文档里说的很详细</p>
</li>
<li><p>线程间的通信与传递变量，通过<code>var connect = threads.disposable();</code>实现；发送结果：<code>connect.setAndNotify(s);</code>，接收结果：<code>connect.blockedGet(s);</code></p>
</li>
</ul>
<h2 id="交互界面"><a href="#交互界面" class="headerlink" title="交互界面"></a>交互界面</h2><h3 id="Events、Dialogs、Console"><a href="#Events、Dialogs、Console" class="headerlink" title="Events、Dialogs、Console"></a>Events、Dialogs、Console</h3><ul>
<li>Events模块主要用来监听按键、触摸、通知等，但放在单线程里可能会因为程序其他部分而无法及时执行，造成非预期的结果，常常和多线程<code>Threads</code>模块一起使用，如音量键关闭脚本的例子：</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">auto();</span><br><span class="line">threads.start(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{ <span class="comment">//在子线程中调用observeKey()从而使按键事件处理在子线程执行</span></span><br><span class="line">    events.observeKey();    <span class="comment">//启用按键监听</span></span><br><span class="line">    events.on(<span class="string">"key_down"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">keyCode, events</span>)</span>{</span><br><span class="line">    <span class="comment">//常用事件有key、key_down、key_up、exit、toast、notification、touch(触摸某点)</span></span><br><span class="line">        <span class="keyword">if</span>(keyCode == keys.volume_up){  <span class="comment">//音量上键关闭脚本</span></span><br><span class="line">            exit();</span><br><span class="line">        }</span><br><span class="line">    });</span><br><span class="line">});</span><br><span class="line">events.on(<span class="string">"exit"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{   <span class="comment">//脚本停止运行时会触发exit事件</span></span><br><span class="line">    toast(<span class="string">"脚本已结束"</span>);</span><br><span class="line">});</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>){</span><br><span class="line">    log(<span class="string">"脚本运行中..."</span>);</span><br><span class="line">    sleep(<span class="number">2000</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>Dialogs</li>
</ul>
<p>这部分提供对话框支持，但由于是弹出一个全屏的消息提示框，实际体验是并不太能用上；如果脚本和用户的交互性比较强的话可以考虑一下。</p>
<ul>
<li>Console</li>
</ul>
<p>控制台的作用更像是用于调试，但一般Windows下用VSCode写脚本也不需要在控制台上显示吧，所以这部分给人的感觉也是很鸡肋…不过<code>console</code>的UI是固定的，也可以悬浮、最小化；有时不想设计UI的时候可以偷懒直接拿<code>console</code>过来凑合用用。</p>
<h3 id="Floaty、UI"><a href="#Floaty、UI" class="headerlink" title="Floaty、UI"></a>Floaty、UI</h3><p>界面设计这部分内容相当多，而且官方文档也有很多写得很简略（甚至一笔带过），要想真正从零开始设计出一个实用好看的UI出来还是有难度的；我是建议去网上多找几个模板文件运行运行，在别人的基础上修改起来就快多了，看不懂的地方再去翻翻文档解决。一般UI设计好后再和程序一对接（通过UI各组件的id），就可以打包做成apk了~</p>
<h1 id="写一个注册机"><a href="#写一个注册机" class="headerlink" title="写一个注册机"></a>写一个注册机</h1><p>实战加密解密</p>
<p>我们再测试下解密 看能不能解开 </p>
<p>唯一 = device.getIMEI()</p>
<p>我们来回忆一下：</p>
<p>加密1 加密2——-固定加密</p>
<p>加密3 ————随机加密</p>
<p>解密2  解密3——解密使用</p>
<p>开始加密，可以用 加密2 加密3，随便用，都可以</p>
<p>但是你需要记住 加密的次数和加密顺序</p>
<p>——-3次——-加密2——–加密2——–加密3</p>
<p>看结果</p>
<p>?wv1%yv%4rv%0v%S0v%7vJ%5v%8Sw%3w%Uxw%9vW%vv%55v%yy%7j5</p>
<p>我们在我们自己的脚本中，开始写解密，相反的顺序</p>
<p>———-解密3———解密2——–解密2——3次—-</p>
<p>得到</p>
<p>358811051254785</p>
<p>我们测试下 运行 这个函数 </p>
<p>358811051254785</p>
<p>完美了，继续</p>
<p>运行到这里了 我们可以得到  一个   “加密结果3”</p>
<p>需要让对方把这个值 发给我们 这样操作</p>
<p>setClip(加密结果3);</p>
<p>toast (“已经复制到右键了，请发给我”);</p>
<p>演示一下，运行一下，他发给我们的是这个</p>
<p>?wvl%yv%4gv%0v%p0v%7vr%5v%8Hw%3w%dxw%9vk%vv%5hv%yy%7j5</p>
<p>说明，我们的方法是对的。继续</p>
<p>对方发给我们之后 我们运行解密 结果也出来了。</p>
<p>还是这个数字。358811051254785。那当然还是它了。</p>
<p>那么，我们就这样，什么也不干就发给他吗？？？<br>不，，，，，，，，稍微有点常识的看一眼都知道，这可能就是手机的某个参数。</p>
<p>这时候，有小白就会问了，这不是没有意义吗？！错。大错特错。<br>你看看对方发给我们的是什么，每次都不一样，他也迷糊，是吧。<br>。。。。。。我们可以把提示代码抹去，虽然他每次都复制了，但是对方不知道呀，嘿嘿。你只需要第一次告诉对方，复制右键发给我们。嘿嘿。</p>
<p>为了彻底迷惑对方，我们再继续对“唯一”进行多次混合加密。这里必须用固定加密。。嘿嘿。</p>
<p>我们在我们自己的脚本中，也复制一模一样的，运行，</p>
<p>得到 “加密结果10”—-这个就是我们要发给对方的验证码了</p>
<p>最后，我们把代码完善下，能删除的log都删了</p>
<p>ok了</p>
<p>需要特别说明的 就是 你发给对方的脚本中 只能有加密函数<br>别傻了胡痴地 把解密函数 也给对方发过去。嘿嘿。</p>
<p>这个只是在脚本上加密解密。还有网络加密解密。如果，有感兴趣的，以后可以出一个教程。非常简单的。因为网站都已经给我们现成的auto.js封装好的啊。只需要随便改一点点东西，就可以使用了。</p>
<p>代码发到下面了</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(auto.service==<span class="literal">null</span>){auto.waitFor();};</span><br><span class="line">sleep(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">唯一 = device.getIMEI()</span><br><span class="line"></span><br><span class="line">加密结果<span class="number">1</span> = 加密<span class="number">2</span>(唯一)</span><br><span class="line">加密结果<span class="number">2</span> = 加密<span class="number">2</span>(加密结果<span class="number">1</span>)</span><br><span class="line">加密结果<span class="number">3</span> = 加密<span class="number">3</span>(加密结果<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">setClip(加密结果<span class="number">3</span>);</span><br><span class="line"><span class="comment">//toast ("已经复制到右键了，请发给我");</span></span><br><span class="line"></span><br><span class="line">sleep(<span class="number">90000</span>)</span><br><span class="line"></span><br><span class="line">加密结果<span class="number">4</span> = 加密<span class="number">2</span>(唯一)</span><br><span class="line">加密结果<span class="number">5</span> = 加密<span class="number">2</span>(加密结果<span class="number">4</span>)</span><br><span class="line">加密结果<span class="number">6</span> = 加密<span class="number">1</span>(加密结果<span class="number">5</span>)</span><br><span class="line">加密结果<span class="number">7</span> = 加密<span class="number">1</span>(加密结果<span class="number">6</span>)</span><br><span class="line">加密结果<span class="number">8</span> = 加密<span class="number">2</span>(加密结果<span class="number">7</span>)</span><br><span class="line">加密结果<span class="number">9</span> = 加密<span class="number">1</span>(加密结果<span class="number">8</span>)</span><br><span class="line">加密结果<span class="number">10</span> = 加密<span class="number">2</span>(加密结果<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> 对方输入框里的 = rawInput(<span class="string">"请输入验证码"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (对方输入框里的 == 加密结果<span class="number">10</span>) {</span><br><span class="line">    log(<span class="string">"验证码正确"</span>)</span><br><span class="line">    <span class="comment">//开始干活喽</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    log(<span class="string">"验证码错误"</span>);</span><br><span class="line">    exit();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 固定加密</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> 加密1(<span class="params">string</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> java.math.BigInteger(<span class="number">1</span>, java.security.MessageDigest.getInstance(<span class="string">"MD5"</span>)</span><br><span class="line">        .digest(java.lang.String(string).getBytes())).toString(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 固定加密</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> 加密2(<span class="params">code</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> c = <span class="built_in">String</span>.fromCharCode(code.charCodeAt(<span class="number">0</span>) + code.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; code.length; i++) {</span><br><span class="line">        c += <span class="built_in">String</span>.fromCharCode(code.charCodeAt(i) + code.charCodeAt(i - <span class="number">1</span>));</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">escape</span>(c);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 随机加密</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> 加密3(<span class="params">stringW</span>) </span>{</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> str = stringW + <span class="string">"?"</span>;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> ranWs = random(<span class="number">1</span>, <span class="number">6</span>);</span><br><span class="line">    <span class="keyword">var</span> str1 = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) {</span><br><span class="line">        str1 = str1 + str[i];</span><br><span class="line">        <span class="keyword">if</span> (i % ranWs == <span class="number">0</span>) {</span><br><span class="line">            str1 = str1 + ranLetter();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    log(str1)</span><br><span class="line">    str1 = ranWs + str1;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    str1 = str1.split(<span class="string">""</span>).reverse();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; str1.length; x++) {</span><br><span class="line">        str1[x] = charDh(str1[x]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str1.join(<span class="string">""</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ranLetter</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"h"</span>, <span class="string">"i"</span>, <span class="string">"j"</span>, <span class="string">"k"</span>, <span class="string">"l"</span>, <span class="string">"m"</span>, <span class="string">"n"</span>, <span class="string">"o"</span>, <span class="string">"p"</span>, <span class="string">"q"</span>, <span class="string">"r"</span>, <span class="string">"s"</span>, <span class="string">"t"</span>, <span class="string">"u"</span>, <span class="string">"v"</span>, <span class="string">"w"</span>, <span class="string">"x"</span>, <span class="string">"y"</span>, <span class="string">"z"</span>];</span><br><span class="line">    <span class="keyword">var</span> ran = random(<span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">if</span> (ran == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> random(<span class="number">0</span>, <span class="number">9</span>);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (ran == <span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">return</span> arr[random(<span class="number">0</span>, arr.length - <span class="number">1</span>)];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> arr[random(<span class="number">0</span>, arr.length - <span class="number">1</span>)].toUpperCase();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">charDh</span>(<span class="params">cha</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"h"</span>, <span class="string">"i"</span>, <span class="string">"j"</span>, <span class="string">"k"</span>, <span class="string">"l"</span>, <span class="string">"m"</span>, <span class="string">"n"</span>, <span class="string">"o"</span>, <span class="string">"p"</span>, <span class="string">"q"</span>, <span class="string">"r"</span>, <span class="string">"s"</span>, <span class="string">"t"</span>, <span class="string">"u"</span>, <span class="string">"v"</span>, <span class="string">"w"</span>, <span class="string">"x"</span>, <span class="string">"y"</span>, <span class="string">"z"</span>, <span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>, <span class="string">"E"</span>, <span class="string">"F"</span>, <span class="string">"G"</span>, <span class="string">"H"</span>, <span class="string">"J"</span>, <span class="string">"K"</span>, <span class="string">"L"</span>, <span class="string">"M"</span>, <span class="string">"N"</span>, <span class="string">"O"</span>, <span class="string">"P"</span>, <span class="string">"Q"</span>, <span class="string">"R"</span>, <span class="string">"S"</span>, <span class="string">"T"</span>, <span class="string">"U"</span>, <span class="string">"V"</span>, <span class="string">"W"</span>, <span class="string">"X"</span>, <span class="string">"Y"</span>, <span class="string">"Z"</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> jw = <span class="number">0</span>; jw &lt; arr.length; jw++) {</span><br><span class="line">        <span class="keyword">if</span> (cha == arr[jw]) {</span><br><span class="line">            <span class="keyword">return</span> arr[arr.length - <span class="number">1</span> - jw];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> cha;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解密</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">解密结果<span class="number">3</span> = 解密<span class="number">3</span>(b)</span><br><span class="line"></span><br><span class="line">解密结果<span class="number">2</span> = 解密<span class="number">2</span>(解密结果<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">解密结果<span class="number">1</span> = 解密<span class="number">2</span>(解密结果<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//log(解密结果1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解密结果1  就是对方手机的IMEI 也就是“唯一”</span></span><br><span class="line"></span><br><span class="line">加密结果<span class="number">4</span> = 加密<span class="number">2</span>(解密结果<span class="number">1</span>)</span><br><span class="line">加密结果<span class="number">5</span> = 加密<span class="number">2</span>(加密结果<span class="number">4</span>)</span><br><span class="line">加密结果<span class="number">6</span> = 加密<span class="number">1</span>(加密结果<span class="number">5</span>)</span><br><span class="line">加密结果<span class="number">7</span> = 加密<span class="number">1</span>(加密结果<span class="number">6</span>)</span><br><span class="line">加密结果<span class="number">8</span> = 加密<span class="number">2</span>(加密结果<span class="number">7</span>)</span><br><span class="line">加密结果<span class="number">9</span> = 加密<span class="number">1</span>(加密结果<span class="number">8</span>)</span><br><span class="line">加密结果<span class="number">10</span> = 加密<span class="number">2</span>(加密结果<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">log(加密结果<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 解密2(<span class="params">code</span>) </span>{</span><br><span class="line">    code = <span class="built_in">unescape</span>(code);</span><br><span class="line">    <span class="keyword">var</span> c = <span class="built_in">String</span>.fromCharCode(code.charCodeAt(<span class="number">0</span>) - code.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; code.length; i++) {</span><br><span class="line">        c += <span class="built_in">String</span>.fromCharCode(code.charCodeAt(i) - c.charCodeAt(i - <span class="number">1</span>));</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 解密3(<span class="params">stringJ</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> str2 = stringJ.split(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; str2.length; x++) {</span><br><span class="line">        str2[x] = charDh(str2[x]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    str2 = str2.reverse().join(<span class="string">""</span>);</span><br><span class="line">    log(str2)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> tt = <span class="built_in">parseInt</span>(str2[<span class="number">0</span>]);</span><br><span class="line">    str2 = str2.substring(<span class="number">1</span>, str2.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> str3 = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> y = <span class="number">0</span>; y &lt; str2.length; y++) {</span><br><span class="line">        <span class="keyword">if</span> ((y - <span class="number">1</span>) % (tt + <span class="number">1</span>) != <span class="number">0</span>) {</span><br><span class="line">            str3 = str3 + str2[y];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (str3[str3.length - <span class="number">1</span>] == <span class="string">"?"</span>) {</span><br><span class="line">        str3 = str3.substring(<span class="number">0</span>, str3.length - <span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str3;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">charDh</span>(<span class="params">cha</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"h"</span>, <span class="string">"i"</span>, <span class="string">"j"</span>, <span class="string">"k"</span>, <span class="string">"l"</span>, <span class="string">"m"</span>, <span class="string">"n"</span>, <span class="string">"o"</span>, <span class="string">"p"</span>, <span class="string">"q"</span>, <span class="string">"r"</span>, <span class="string">"s"</span>, <span class="string">"t"</span>, <span class="string">"u"</span>, <span class="string">"v"</span>, <span class="string">"w"</span>, <span class="string">"x"</span>, <span class="string">"y"</span>, <span class="string">"z"</span>, <span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>, <span class="string">"E"</span>, <span class="string">"F"</span>, <span class="string">"G"</span>, <span class="string">"H"</span>, <span class="string">"J"</span>, <span class="string">"K"</span>, <span class="string">"L"</span>, <span class="string">"M"</span>, <span class="string">"N"</span>, <span class="string">"O"</span>, <span class="string">"P"</span>, <span class="string">"Q"</span>, <span class="string">"R"</span>, <span class="string">"S"</span>, <span class="string">"T"</span>, <span class="string">"U"</span>, <span class="string">"V"</span>, <span class="string">"W"</span>, <span class="string">"X"</span>, <span class="string">"Y"</span>, <span class="string">"Z"</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> jw = <span class="number">0</span>; jw &lt; arr.length; jw++) {</span><br><span class="line">        <span class="keyword">if</span> (cha == arr[jw]) {</span><br><span class="line">            <span class="keyword">return</span> arr[arr.length - <span class="number">1</span> - jw];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> cha;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 加密1(<span class="params">string</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> java.math.BigInteger(<span class="number">1</span>, java.security.MessageDigest.getInstance(<span class="string">"MD5"</span>)</span><br><span class="line">        .digest(java.lang.String(string).getBytes())).toString(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 加密2(<span class="params">code</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> c = <span class="built_in">String</span>.fromCharCode(code.charCodeAt(<span class="number">0</span>) + code.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; code.length; i++) {</span><br><span class="line">        c += <span class="built_in">String</span>.fromCharCode(code.charCodeAt(i) + code.charCodeAt(i - <span class="number">1</span>));</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">escape</span>(c);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 加密3(<span class="params">stringW</span>) </span>{</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> str = stringW + <span class="string">"?"</span>;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> ranWs = random(<span class="number">1</span>, <span class="number">6</span>);</span><br><span class="line">    <span class="keyword">var</span> str1 = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) {</span><br><span class="line">        str1 = str1 + str[i];</span><br><span class="line">        <span class="keyword">if</span> (i % ranWs == <span class="number">0</span>) {</span><br><span class="line">            str1 = str1 + ranLetter();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    log(str1)</span><br><span class="line">    str1 = ranWs + str1;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    str1 = str1.split(<span class="string">""</span>).reverse();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; str1.length; x++) {</span><br><span class="line">        str1[x] = charDh(str1[x]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str1.join(<span class="string">""</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ranLetter</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"h"</span>, <span class="string">"i"</span>, <span class="string">"j"</span>, <span class="string">"k"</span>, <span class="string">"l"</span>, <span class="string">"m"</span>, <span class="string">"n"</span>, <span class="string">"o"</span>, <span class="string">"p"</span>, <span class="string">"q"</span>, <span class="string">"r"</span>, <span class="string">"s"</span>, <span class="string">"t"</span>, <span class="string">"u"</span>, <span class="string">"v"</span>, <span class="string">"w"</span>, <span class="string">"x"</span>, <span class="string">"y"</span>, <span class="string">"z"</span>];</span><br><span class="line">    <span class="keyword">var</span> ran = random(<span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">if</span> (ran == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> random(<span class="number">0</span>, <span class="number">9</span>);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (ran == <span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">return</span> arr[random(<span class="number">0</span>, arr.length - <span class="number">1</span>)];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> arr[random(<span class="number">0</span>, arr.length - <span class="number">1</span>)].toUpperCase();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>









</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">wenke</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://wenkexia.github.io/2022/010827358.html">https://wenkexia.github.io/2022/010827358.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wenkexia.github.io" target="_blank">wenke</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/autojs/">autojs</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/wenkex/blogimage/raw/master/infinity-3610308.jpg" data-sites="wechat,qq,facebook,twitter,weibo"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/010834543.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/wenkex/blogimage/raw/master/infinity-3610308.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">python基础</div></div></a></div><div class="next-post pull-right"><a href="/2022/010839456.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/wenkex/blogimage/raw/master/infinity-3610308.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">鸿蒙开发</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/wenkex/blogimage/raw/master/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">wenke</div><div class="author-info__description">专注于编程,分享生活,分享知识</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">33</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wenkexia"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/wenkexia" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/1184664659@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">备用网址:https://wenkex.gitee.io (速度更快)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">2.</span> <span class="toc-text">环境准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vscode%E6%8F%92%E4%BB%B6"><span class="toc-number">2.1.</span> <span class="toc-text">vscode插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#scrcpy%E6%8A%95%E5%B1%8F"><span class="toc-number">2.2.</span> <span class="toc-text">scrcpy投屏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E5%90%88webditor"><span class="toc-number">2.3.</span> <span class="toc-text">结合webditor</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">3.</span> <span class="toc-text">小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E5%88%86%E9%85%8D"><span class="toc-number">3.1.</span> <span class="toc-text">强制分配</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#autojs%E6%8F%90%E5%8F%96%E8%BD%AF%E4%BB%B6%E8%87%AA%E5%B8%A6%E4%BE%8B%E5%AD%90"><span class="toc-number">5.</span> <span class="toc-text">autojs提取软件自带例子</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E4%BF%A1%E6%81%AF%E5%88%B0%E5%BE%AE%E4%BF%A1"><span class="toc-number">6.</span> <span class="toc-text">推送信息到微信</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%8E%A7%E4%BB%B6%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">7.</span> <span class="toc-text">基于控件的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#UiSelector%EF%BC%88%E9%80%89%E6%8B%A9%E5%99%A8%EF%BC%89"><span class="toc-number">7.1.</span> <span class="toc-text">UiSelector（选择器）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UiObject"><span class="toc-number">7.2.</span> <span class="toc-text">UiObject</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bounds"><span class="toc-number">7.2.1.</span> <span class="toc-text">bounds()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rect"><span class="toc-number">7.3.</span> <span class="toc-text">Rect</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Rect-centerX"><span class="toc-number">7.3.1.</span> <span class="toc-text">Rect.centerX()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rect-centerY"><span class="toc-number">7.3.2.</span> <span class="toc-text">Rect.centerY()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">7.4.</span> <span class="toc-text">控件属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E9%80%89%E5%8F%96%E7%9A%84%E6%8E%A7%E4%BB%B6%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="toc-number">7.5.</span> <span class="toc-text">对选取的控件进行操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#click-text-i"><span class="toc-number">7.6.</span> <span class="toc-text">click(text[, i])</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%8E%A7%E4%BB%B6%E5%B1%9E%E6%80%A7%E7%A1%AE%E5%AE%9A%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.7.</span> <span class="toc-text">基于控件属性确定控件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%8E%A7%E4%BB%B6%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB%E7%A1%AE%E5%AE%9A%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.8.</span> <span class="toc-text">基于控件父子关系确定控件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%9D%90%E6%A0%87%E6%9D%A5%E7%A1%AE%E5%AE%9A%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.9.</span> <span class="toc-text">基于坐标来确定控件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B9%E6%B3%95%E5%92%8C%E5%87%BD%E6%95%B0"><span class="toc-number">7.10.</span> <span class="toc-text">其他的一些方法和函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E6%89%BE%E4%B8%8D%E5%88%B0%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">7.11.</span> <span class="toc-text">控件找不到的情况</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%8Droot%E6%89%8B%E6%9C%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E6%8B%9F%E6%BB%91%E5%8A%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">8.</span> <span class="toc-text">免root手机的三种模拟滑动方式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%8C%87%E9%92%88%E4%BD%8D%E7%BD%AE"><span class="toc-number">8.1.</span> <span class="toc-text">开发者模式的指针位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#swipe-x1-y1-x2-y2-duration"><span class="toc-number">8.2.</span> <span class="toc-text">swipe(x1, y1, x2, y2, duration)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gesture-duration-x1-y1-x2-y2-%E2%80%A6"><span class="toc-number">8.3.</span> <span class="toc-text">gesture(duration, [x1, y1], [x2, y2], …)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gestures-delay1-duration1-x1-y1-x2-y2-%E2%80%A6-delay2-duration2-x3-y3-x4-y4-%E2%80%A6-%E2%80%A6"><span class="toc-number">8.4.</span> <span class="toc-text">gestures([delay1, duration1, [x1, y1], [x2, y2], …], [delay2, duration2, [x3, y3], [x4, y4], …], …)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B0%83%E7%94%A8java%E6%96%87%E4%BB%B6"><span class="toc-number">9.</span> <span class="toc-text">调用java文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91"><span class="toc-number">10.</span> <span class="toc-text">踩过的坑</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%94%AF%E4%BB%98%E5%AE%9D-%E5%BE%AE%E4%BF%A1-%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6"><span class="toc-number">11.</span> <span class="toc-text">支付宝&#x2F;微信&#x2F;其他软件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8"><span class="toc-number">12.</span> <span class="toc-text">常用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AE%BE%E5%A4%87%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86"><span class="toc-number">12.1.</span> <span class="toc-text">获取设备唯一标识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E7%BB%93%E6%9D%9Fapp%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">12.2.</span> <span class="toc-text">强制结束app进程的功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">12.3.</span> <span class="toc-text">提取文本中的数字的正则表达式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">13.</span> <span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E4%B8%8E%E9%A2%9C%E8%89%B2"><span class="toc-number">14.</span> <span class="toc-text">图片与颜色</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">14.1.</span> <span class="toc-text">图片回收机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#base64%E7%BC%96%E7%A0%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">14.2.</span> <span class="toc-text">base64编码转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Base64"><span class="toc-number">14.2.1.</span> <span class="toc-text">Base64</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bytes"><span class="toc-number">14.2.2.</span> <span class="toc-text">bytes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#images%E6%A8%A1%E5%9D%97"><span class="toc-number">14.3.</span> <span class="toc-text">images模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87"><span class="toc-number">14.3.1.</span> <span class="toc-text">读取图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87"><span class="toc-number">14.3.2.</span> <span class="toc-text">保存图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86"><span class="toc-number">14.3.3.</span> <span class="toc-text">图片处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#images-clip"><span class="toc-number">14.3.3.1.</span> <span class="toc-text">images.clip()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#images-scale"><span class="toc-number">14.3.3.2.</span> <span class="toc-text">images.scale()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9F%9F%E6%89%BE%E8%89%B2"><span class="toc-number">14.3.4.</span> <span class="toc-text">区域找色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%82%B9%E6%89%BE%E8%89%B2"><span class="toc-number">14.3.5.</span> <span class="toc-text">多点找色</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#colors%E6%A8%A1%E5%9D%97"><span class="toc-number">14.4.</span> <span class="toc-text">colors模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%9C%E8%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">14.4.1.</span> <span class="toc-text">颜色字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%9C%E8%89%B2%E6%95%B4%E6%95%B0"><span class="toc-number">14.4.2.</span> <span class="toc-text">颜色整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E9%A2%9C%E8%89%B2%E6%98%AF%E5%90%A6%E7%9B%B8%E4%BC%BC"><span class="toc-number">14.4.3.</span> <span class="toc-text">两个颜色是否相似</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E9%A2%9C%E8%89%B2%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89"><span class="toc-number">14.4.4.</span> <span class="toc-text">两个颜色是否相等</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Autojs-%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81%EF%BC%88%E4%B8%80%E6%9C%BA%E4%B8%80%E7%A0%81%EF%BC%89"><span class="toc-number">15.</span> <span class="toc-text">Autojs 本地验证（一机一码）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%B8%80%E6%9C%BA%E4%B8%80%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">15.1.</span> <span class="toc-text">1、一机一码的实现原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E4%B8%80%E6%9C%BA%E4%B8%80%E7%A0%81UI%E7%95%8C%E9%9D%A2%E7%9A%84%E5%BC%80%E5%8F%91"><span class="toc-number">15.2.</span> <span class="toc-text">2、一机一码UI界面的开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%B3%A8%E5%86%8C%E6%9C%BAUI%E7%95%8C%E9%9D%A2%E7%9A%84%E5%BC%80%E5%8F%91"><span class="toc-number">15.3.</span> <span class="toc-text">3、注册机UI界面的开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E8%8E%B7%E5%8F%96%E6%89%8B%E6%9C%BA%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86"><span class="toc-number">15.4.</span> <span class="toc-text">4、获取手机唯一标识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E5%AE%8C%E6%88%90%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%84%9A%E6%9C%AC%E6%B3%A8%E5%86%8C%E6%9C%BA%E9%AA%8C%E8%AF%81"><span class="toc-number">15.5.</span> <span class="toc-text">5、完成第一个脚本注册机验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E5%AF%B9%E6%89%8B%E6%9C%BA%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E7%AC%A6%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%AF%86"><span class="toc-number">15.6.</span> <span class="toc-text">6、对手机唯一标识符进行加密</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E5%A2%9E%E5%8A%A0%E6%97%B6%E9%97%B4%E9%AA%8C%E8%AF%81"><span class="toc-number">15.7.</span> <span class="toc-text">7、增加时间验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81%E5%A2%9E%E5%8A%A0%E6%97%B6%E9%97%B4%E9%AA%8C%E8%AF%81%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">15.8.</span> <span class="toc-text">8、增加时间验证（二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81%E5%BC%80%E5%8F%91%E6%97%A5%E5%8D%A1%E3%80%81%E6%9C%88%E5%8D%A1%E3%80%81%E5%B9%B4%E5%8D%A1%E5%8A%9F%E8%83%BD"><span class="toc-number">15.9.</span> <span class="toc-text">9、开发日卡、月卡、年卡功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E3%80%81%E6%BF%80%E6%B4%BB%E7%A0%81%E9%99%90%E5%88%B6%E8%84%9A%E6%9C%AC%E8%BF%90%E8%A1%8C"><span class="toc-number">15.10.</span> <span class="toc-text">10、激活码限制脚本运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E3%80%81%E4%BF%9D%E5%AD%98%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%E5%88%B0%E6%9C%AC%E5%9C%B0"><span class="toc-number">15.11.</span> <span class="toc-text">11、保存激活状态到本地</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%E3%80%81%E8%A7%A3%E5%86%B3%E6%97%B6%E9%97%B4%E9%AA%8C%E8%AF%81bug%E6%96%B9%E6%B3%95"><span class="toc-number">15.12.</span> <span class="toc-text">12、解决时间验证bug方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13%E3%80%81%E5%AE%8C%E5%96%84%E6%BF%80%E6%B4%BB%E7%A0%81%E4%BA%A4%E4%BA%92%E9%80%BB%E8%BE%91"><span class="toc-number">15.13.</span> <span class="toc-text">13、完善激活码交互逻辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14%E3%80%81%E5%B0%81%E8%A3%85%E9%AA%8C%E8%AF%81%E6%BF%80%E6%B4%BB%E7%A0%81%E5%87%BD%E6%95%B0-%E4%B8%80"><span class="toc-number">15.14.</span> <span class="toc-text">14、封装验证激活码函数(一)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15%E3%80%81%E5%B0%81%E8%A3%85%E9%AA%8C%E8%AF%81%E6%BF%80%E6%B4%BB%E7%A0%81%E5%87%BD%E6%95%B0-%E4%BA%8C"><span class="toc-number">15.15.</span> <span class="toc-text">15、封装验证激活码函数(二)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16%E3%80%81%E5%B0%81%E8%A3%85%E6%B3%A8%E5%86%8C%E6%9C%BA%E5%8A%A0%E5%AF%86%E5%87%BD%E6%95%B0"><span class="toc-number">15.16.</span> <span class="toc-text">16、封装注册机加密函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17%E3%80%81%E5%8D%87%E7%BA%A7%E5%8A%A0%E5%AF%86%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">15.17.</span> <span class="toc-text">17、升级加密复杂度（一）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18%E3%80%81%E5%8D%87%E7%BA%A7%E5%8A%A0%E5%AF%86%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">15.18.</span> <span class="toc-text">18、升级加密复杂度（二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19%E3%80%81%E5%A2%9E%E5%8A%A0%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC%E6%97%B6%E7%9A%84%E9%AA%8C%E8%AF%81%E6%96%B9%E6%B3%95"><span class="toc-number">15.19.</span> <span class="toc-text">19、增加运行脚本时的验证方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20%E3%80%81%E7%BB%99%E8%84%9A%E6%9C%AC%E6%B7%BB%E5%8A%A0%E4%B8%80%E6%9C%BA%E4%B8%80%E7%A0%81%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">15.20.</span> <span class="toc-text">20、给脚本添加一机一码功能（一）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21%E3%80%81%E7%BB%99%E8%84%9A%E6%9C%AC%E6%B7%BB%E5%8A%A0%E4%B8%80%E6%9C%BA%E4%B8%80%E7%A0%81%E5%8A%9F%E8%83%BD%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">15.21.</span> <span class="toc-text">21、给脚本添加一机一码功能（二）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%86%99%E6%B8%B8%E6%88%8F%E8%84%9A%E6%9C%AC"><span class="toc-number">16.</span> <span class="toc-text">如何写游戏脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E6%91%B8%E6%A8%A1%E6%8B%9F"><span class="toc-number">16.1.</span> <span class="toc-text">触摸模拟</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#colors"><span class="toc-number">16.2.</span> <span class="toc-text">colors</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#images"><span class="toc-number">16.3.</span> <span class="toc-text">images</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%BB%93%E6%9E%84%E7%AE%A1%E7%90%86"><span class="toc-number">16.4.</span> <span class="toc-text">脚本结构管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Module"><span class="toc-number">16.4.1.</span> <span class="toc-text">Module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Threads"><span class="toc-number">16.4.2.</span> <span class="toc-text">Threads</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E4%BA%92%E7%95%8C%E9%9D%A2"><span class="toc-number">16.5.</span> <span class="toc-text">交互界面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Events%E3%80%81Dialogs%E3%80%81Console"><span class="toc-number">16.5.1.</span> <span class="toc-text">Events、Dialogs、Console</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Floaty%E3%80%81UI"><span class="toc-number">16.5.2.</span> <span class="toc-text">Floaty、UI</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%99%E4%B8%80%E4%B8%AA%E6%B3%A8%E5%86%8C%E6%9C%BA"><span class="toc-number">17.</span> <span class="toc-text">写一个注册机</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/04205354.html" title="postman接口自动化测试">postman接口自动化测试</a><time datetime="2022-04-20T01:36:28.000Z" title="发表于 2022-04-20 09:36:28">2022-04-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/041918402.html" title="数据库-redis">数据库-redis</a><time datetime="2022-04-19T01:23:48.000Z" title="发表于 2022-04-19 09:23:48">2022-04-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/040423525.html" title="springboot学习">springboot学习</a><time datetime="2022-04-04T10:57:26.000Z" title="发表于 2022-04-04 18:57:26">2022-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/040312750.html" title="前端学习">前端学习</a><time datetime="2022-04-03T14:07:51.000Z" title="发表于 2022-04-03 22:07:51">2022-04-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/032659541.html" title="qq机器人">qq机器人</a><time datetime="2022-03-26T09:09:00.000Z" title="发表于 2022-03-26 17:09:00">2022-03-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By wenke</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'BbuBjGh9to6TtPug5KeFflx1-gzGzoHsz',
      appKey: '73XAE3zu9AokVhAvE61OP01g',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: true
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="true" data-text="虾,科,ke,xia" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>